{"remainingRequest":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\src\\views\\creditInfo\\creditFinfo\\xqSmortgage.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\src\\views\\creditInfo\\creditFinfo\\xqSmortgage.vue","mtime":1615898267291},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614934889000},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\babel-loader\\lib\\index.js","mtime":1614934889000},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614934889000},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7ZGVmYXVsdCBhcyBhcGl9IGZyb20gIkAvdXRpbHMvYXBpIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAieHFTbW9ydGdhZ2UiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVJbmRleDogJzInLAogICAgICBmb3JtMTogewogICAgICAgIGFzc3VyYW5jZUluZm86e2Fzc3VyYW5jZUxpc3Q6W10sIGd1YXJhbnRlZUlkOicnLCBndWFyYW50ZWVNZXRob2Q6JycsIGlkOicnLCBpb3VJZDonJywgaW91SWRMaXN0OltdLCBub3RlOicnfSwKICAgICAgICBjb2xsYXRlcmFsSW5mbzp7Y29sbGF0ZXJhbExpc3Q6W10sIGd1YXJhbnRlZUlkOicnLCBndWFyYW50ZWVNZXRob2Q6JycsIGlkOicnLCBpb3VJZDonJywgaW91SWRMaXN0OltdLCBub3RlOicnfSwKICAgICAgICBndWFyYW50ZWVJbmZvOntndWFyYW50ZWVJZDonJywgZ3VhcmFudGVlTWV0aG9kOicnLCBpZDonJywgaW91SWQ6JycsIGlvdUlkTGlzdDpbXSwgbm90ZTonJ30sCiAgICAgICAgcGxlZGdlc0luZm86e2d1YXJhbnRlZUlkOicnLCBndWFyYW50ZWVNZXRob2Q6JycsIGlkOicnLCBpb3VJZDonJywgaW91SWRMaXN0OltdLCBub3RlOicnLCBwbGVkZ2VzTGlzdDpbXX0KICAgICAgfSwKICAgICAgdGFibGVEYXRhOltdLAoKICAgICAgbWV0aG9kTnVtOicwJywKICAgICAgZHJhd2VySW5mbzonY29sbGF0ZXJhbEluZm8nLAogICAgICBMaXN0SW5mb1R5cGU6J2NvbGxhdGVyYWxMaXN0JywKICAgICAgY2FyZExhYmVsOiB7CiAgICAgICAgJzAnOiB7bGFiZWw6ICfmirXmirzniaknLCB2YWx1ZV9pbmRleDogJ2NvbGxhdGVyYWxOYW1lJ30sCiAgICAgICAgJzEnOiB7bGFiZWw6ICfotKjmirzniaknLCB2YWx1ZV9pbmRleDogJ3BsZWRnZXNOYW1lJ30sCiAgICAgICAgJzInOiB7bGFiZWw6ICcnLCB2YWx1ZV9pbmRleDogJyd9LAogICAgICAgICczJzoge2xhYmVsOiAnJywgdmFsdWVfaW5kZXg6ICcnfQogICAgICB9LAoKICAgICAgbnVtMmd1YXJhbnRlZTp7JzAnOifmirXmirzmi4Xkv50nLCcxJzon6LSo5oq85ouF5L+dJywnMic6J+S/neivgeaLheS/nScsJzMnOifnu7zlkIjmi4Xkv50nfSwKICAgICAgY29sbGF0ZXJhbFR5cGVJbmRleDp7JzAnOiflu7rnrZHnianlkozlhbblroPlnJ/lnLDpmYTnnYDniaknLCcxJzon5bu66K6+55So5Zyw5L2/55So5p2DJywnMic6J+a1t+Wfn+S9v+eUqOadgycsJzMnOifnlJ/kuqforr7lpIfjgIHljp/mnZDmlpnjgIHljYrmiJDlk4HjgIHkuqflk4EnLCc0Jzon5Lqk6YCa6L+Q6L6T5bel5YW3JywnNSc6J+WFtuWugyd9LAogICAgICBsYW5kVHlwZVR5cGVJbmRleDp7JzAnOiflt6XkuJrnlKjlnLAnLCcxJzon5ZWG5Lia55So5ZywJ30sCiAgICAgIHBsZWRnZXNUeXBlSW5kZXg6eycwJzon5Yqo5LqnJywnMSc6J+axh+elqOOAgeaUr+elqOOAgeacrOelqCcsJzInOiflgLrliLjjgIHlrZjmrL7ljZUnLCczJzon5LuT5Y2V44CB5o+Q5Y2VJywnNCc6J+WfuumHkeS7vemineOAgeiCoeadgycsJzUnOifnn6Xor4bkuqfmnYPkuK3nmoTotKLkuqfmnYMnLCc2Jzon5YW25a6DJ30sCiAgICAgIG51bTJsYWJlbEluZm86eycwJzonY29sbGF0ZXJhbEluZm8nLCcxJzoncGxlZGdlc0luZm8nLCcyJzonYXNzdXJhbmNlSW5mbycsJzMnOidndWFyYW50ZWVJbmZvJ30sCiAgICAgIG51bTJMaXRJbmZvOnsnMCc6J2NvbGxhdGVyYWxMaXN0JywnMSc6J3BsZWRnZXNMaXN0JywnMic6J2Fzc3VyYW5jZUxpc3QnLCczJzpudWxsfSwKCiAgICAgIGRyYXdlcl9zaG93OmZhbHNlLAogICAgICBndWFyYW50ZWVNZXRob2RPcHRpb25zOlsKICAgICAgICB7dmFsdWU6ICcwJywgbGFiZWw6ICfmirXmirzmi4Xkv50nfSwKICAgICAgICB7dmFsdWU6ICcxJywgbGFiZWw6ICfotKjmirzmi4Xkv50nfSwKICAgICAgICB7dmFsdWU6ICcyJywgbGFiZWw6ICfkv53or4Hmi4Xkv50nfSwKICAgICAgICB7dmFsdWU6ICczJywgbGFiZWw6ICfnu7zlkIjmi4Xkv50nfV0sCiAgICAgIGNvbGxhdGVyYWxUeXBlX29wdGlvbnM6WwogICAgICAgIHt2YWx1ZTonMCcsIGxhYmVsOiflu7rnrZHnianlkozlhbblroPlnJ/lnLDpmYTnnYDniaknfSwKICAgICAgICB7dmFsdWU6JzEnLCBsYWJlbDon5bu66K6+55So5Zyw5L2/55So5p2DJ30sCiAgICAgICAge3ZhbHVlOicyJywgbGFiZWw6J+a1t+Wfn+S9v+eUqOadgyd9LAogICAgICAgIHt2YWx1ZTonMycsIGxhYmVsOifnlJ/kuqforr7lpIfjgIHljp/mnZDmlpnjgIHljYrmiJDlk4HjgIHkuqflk4EnfSwKICAgICAgICB7dmFsdWU6JzQnLCBsYWJlbDon5Lqk6YCa6L+Q6L6T5bel5YW3J30sCiAgICAgICAge3ZhbHVlOic1JywgbGFiZWw6J+WFtuWugyd9XSwKICAgICAgbGFuZFR5cGVfb3B0aW9uczpbCiAgICAgICAge3ZhbHVlOicwJywgbGFiZWw6J+W3peS4mueUqOWcsCd9LAogICAgICAgIHt2YWx1ZTonMScsIGxhYmVsOifllYbkuJrnlKjlnLAnfV0sCiAgICAgIHBsZWRnZXNUeXBlX29wdGlvbnM6WwogICAgICAgIHt2YWx1ZTonMCcsIGxhYmVsOifliqjkuqcnfSwKICAgICAgICB7dmFsdWU6JzEnLCBsYWJlbDon5rGH56Wo44CB5pSv56Wo44CB5pys56WoJ30sCiAgICAgICAge3ZhbHVlOicyJywgbGFiZWw6J+WAuuWIuOOAgeWtmOasvuWNlSd9LAogICAgICAgIHt2YWx1ZTonMycsIGxhYmVsOifku5PljZXjgIHmj5DljZUnfSwKICAgICAgICB7dmFsdWU6JzQnLCBsYWJlbDon5Z+66YeR5Lu96aKd44CB6IKh5p2DJ30sCiAgICAgICAge3ZhbHVlOic1JywgbGFiZWw6J+efpeivhuS6p+adg+S4reeahOi0ouS6p+adgyd9LAogICAgICAgIHt2YWx1ZTonNicsIGxhYmVsOiflhbblroMnfV0sCiAgICAgIGFsbG93X2VkaXQ6ZmFsc2UsCiAgICAgIGFjdGl2ZU5hbWVzOiBbXSwKICAgICAgbGFiZWxfaW5mbzogeycwJzoiI+aKteaKvOeJqeS/oeaBryIsJzEnOiIj6LSo5oq854mp5L+h5oGvIiwnMic6IiPkv53or4Hkv6Hmga8ifSwKCiAgICAgIHRpbWVEYXRhOltdLAogICAgICBpc1JlZ2lzdGVyOmZhbHNlLAogICAgICBuZXdHdWFyYW50ZWVTdGFydERhdGU6JycsCiAgICAgIG5ld0d1YXJhbnRlZUVuZERhdGU6JycsCiAgICAgIG5ld1JlbWluZGVyRGF5OicnLAogICAgICByZVJlZ2lzdGVyRGF0ZTonJywKCiAgICAgIHBpY2tlck9wdGlvbnM6W10sCiAgICAgIHRlbXBfa2V5OjAsCiAgICAgIGNvbGxhcHNlX2FjdGl2ZTpbJ2NvbGxhdGVyYWxJbmZvJywncGxlZGdlc0luZm8nLCdhc3N1cmFuY2VJbmZvJ10sCiAgICAgIHF1ZXJ5X2lvdTp0aGlzLiRyb3V0ZS5xdWVyeS5pb3UsCiAgICAgIGVkaXRfbGFiZWw6J+e8lui+kScsCiAgICAgIG9yaWdpbl9mb3JtX2RhdGE6JycsCiAgICAgIG9yaWdpbl90aW1lRGF0YTonJywKCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIGFwaSh7CiAgICAgIHVybDogIi9TZWN1cmUvZ2V0U2VjdXJlIiwKICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgcGFyYW1zOnsKICAgICAgICBpb3VJZDpfdGhpcy4kcm91dGUucXVlcnkuaW91LAogICAgICB9CiAgICB9KS50aGVuKGRhdGEgPT4gewogICAgICBjb25zb2xlLmxvZygn6I635Y+W5ouF5L+d5L+h5oGvJykKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIHRoaXMub3JpZ2luX2Zvcm1fZGF0YSA9IGRhdGEuZGF0YS5kYXRhczsKICAgICAgdGhpcy5qc29uZGF0YTJmb3JtKGRhdGEuZGF0YS5kYXRhcyk7CiAgICAgIHRoaXMuc2V0VGFibGVEYXRhKCk7CiAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgfSkKICB9LAogIG1ldGhvZHM6ewogICAganNvbmRhdGEyZm9ybShkYXRhKXsKICAgICAgLy/kuLvopoHmmK/kuLrkuoblnKjliJfooajkuK3liqDkuIprZXkKICAgICAgLy/kvb/nlKhKU09O6L2s5o2i6IO95aSf5a6e546w5rex5ou36LSdCiAgICAgIHRoaXMuZm9ybTEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTsgLy/nu4/ov4fmtYvor5XvvIzov5nmoLfnu5lkYXRh5Lit55qE5pWw5o2u5aSN5Yi277yM5YaF6YOo55qE5omA5pyJ5bGe5oCn6YO95Lya6KKr55uR5rWLCgogICAgICBmb3IobGV0IHByb3AgaW4gdGhpcy5mb3JtMSl7CiAgICAgICAgaWYodGhpcy5mb3JtMVtwcm9wXSE9PW51bGwpewogICAgICAgICAgbGV0IGlvdUxpc3RfbGVuZ3RoID0gMDsKICAgICAgICAgIGZvcihsZXQga2V5IGluIHRoaXMuZm9ybTFbcHJvcF0pewogICAgICAgICAgICBpZihrZXk9PT0nYXNzdXJhbmNlTGlzdCcgfHwga2V5PT09J2NvbGxhdGVyYWxMaXN0JyB8fCBrZXk9PT0ncGxlZGdlc0xpc3QnKXsKICAgICAgICAgICAgICBpZih0aGlzLmZvcm0xW3Byb3BdW2tleV09PT1udWxsKXsKICAgICAgICAgICAgICAgIHRoaXMuZm9ybTFbcHJvcF1ba2V5XSA9IFtdOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuZm9ybTFbcHJvcF1ba2V5XS5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKumHjeeCueazqOaEj++8jGFbbmV3X3Byb3BdPWLov5nnp43otYvlgLzmlrnlvI/vvIzkvJrkvb/lvpfmlrDliqDlhaXnmoTlsZ7mgKfkuI3ooqt2dWXnm5HmtYsqKioqKioqKioqKioqKioqKioqKiovLwogICAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtMVtwcm9wXVtrZXldW2ldWydrZXknXSA9IHRoaXMuZ2V0VGVtcEtleSgpOwogICAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtMVtwcm9wXVtrZXldW2ldWydpc29yaWdpbiddID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0xW3Byb3BdW2tleV1baV0sJ2tleScsdGhpcy5nZXRUZW1wS2V5KCkpOwogICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybTFbcHJvcF1ba2V5XVtpXSwnaXNvcmlnaW4nLHRydWUpOwogICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybTFbcHJvcF1ba2V5XVtpXSwnZGlhbG9nU2hvdycsZmFsc2UpOwoKICAgICAgICAgICAgICAgIGxldCBndWFyYW50b3JzID0gdGhpcy5mb3JtMVtwcm9wXVtrZXldW2ldLmd1YXJhbnRvci5zcGxpdCgiLCIpOwogICAgICAgICAgICAgICAgbGV0IGd1YXJhbnRvckxpc3QgPSBbXTsKICAgICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0xW3Byb3BdW2tleV1baV0sJ2d1YXJhbnRvckxpc3QnLGd1YXJhbnRvckxpc3QpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ3VhcmFudG9zOicrZ3VhcmFudG9ycykKICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wO2o8Z3VhcmFudG9ycy5sZW5ndGg7aisrKXsKICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtMVtwcm9wXVtrZXldW2ldLmd1YXJhbnRvckxpc3QucHVzaCh7a2V5OnRoaXMuZ2V0VGVtcEtleSgpLHZhbHVlOmd1YXJhbnRvcnNbal19KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gdGhpcy4kc2V0KHRoaXMuZm9ybTFbcHJvcF1ba2V5XVtpXSwnZ3VhcmFudG9yTGlzdCcsZ3VhcmFudG9yTGlzdCkKICAgICAgICAgICAgICAgIC8vIHRoaXMuZm9ybTFbcHJvcF1ba2V5XVtpXVsnZ3VhcmFudG9yTGlzdCddID0gZ3VhcmFudG9yTGlzdDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybTFbcHJvcF0sJ0xpc3RMZW5ndGgnLHRoaXMuZm9ybTFbcHJvcF1ba2V5XS5sZW5ndGgpCiAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtMVtwcm9wXVsnTGlzdExlbmd0aCddID0gdGhpcy5mb3JtMVtwcm9wXVtrZXldLmxlbmd0aDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmKGtleT09PSdpb3VJZExpc3QnKXsKICAgICAgICAgICAgICBpZih0aGlzLmZvcm0xW3Byb3BdW2tleV09PT1udWxsKXsKICAgICAgICAgICAgICAgIHRoaXMuZm9ybTFbcHJvcF1ba2V5XSA9IFtdOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvL+W9k+WAn+aNruWPt+WPquacieS4gOS4quaXtu+8jOS8oOadpeeahOaVsOaNruWPr+iDveS4jeaYr0xpc3TvvIzogIzmmK/lrZfnrKbkuLIKICAgICAgICAgICAgICBsZXQgaW91TGlzdCA9IFtdOwogICAgICAgICAgICAgIGlmKHRoaXMuZm9ybTFbcHJvcF1ba2V5XSBpbnN0YW5jZW9mIE9iamVjdCl7CiAgICAgICAgICAgICAgICBpb3VMaXN0X2xlbmd0aCA9IHRoaXMuZm9ybTFbcHJvcF1ba2V5XS5sZW5ndGg7CiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDtpPGlvdUxpc3RfbGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgIGxldCBpb3VWYWx1ZSA9IHRoaXMuZm9ybTFbcHJvcF1ba2V5XVtpXTsKICAgICAgICAgICAgICAgICAgaW91TGlzdC5wdXNoKHtrZXk6dGhpcy5nZXRUZW1wS2V5KCksdmFsdWU6aW91VmFsdWUsaXNvcmlnaW46dHJ1ZX0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5mb3JtMVtwcm9wXVtrZXldIGluc3RhbmNlb2YgU3RyaW5nKXsKICAgICAgICAgICAgICAgIGxldCBpb3VWYWx1ZSA9IHRoaXMuZm9ybTFbcHJvcF1ba2V5XTsKICAgICAgICAgICAgICAgIGlvdUxpc3QucHVzaCh7a2V5OnRoaXMuZ2V0VGVtcEtleSgpLHZhbHVlOmlvdVZhbHVlLGlzb3JpZ2luOnRydWV9KQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmZvcm0xW3Byb3BdW2tleV0gPSBpb3VMaXN0OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5mb3JtMVtwcm9wXSwnaW91TGlzdF9sZW5ndGgnLGlvdUxpc3RfbGVuZ3RoKQogICAgICAgICAgLy8gdGhpcy5mb3JtMVtwcm9wXVsnaW91TGlzdF9sZW5ndGgnXSA9IHRoaXMuZm9ybTFbcHJvcF0uaW91SWRMaXN0Lmxlbmd0aDsKICAgICAgICB9CiAgICAgIH0KICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtMSkKICAgIH0sCiAgICBzZXRUYWJsZURhdGEoKXsKICAgICAgdGhpcy50YWJsZURhdGEgPSBbXQogICAgICBmb3IobGV0IGtleSBpbiB0aGlzLmZvcm0xKXsKICAgICAgICBpZih0aGlzLmZvcm0xW2tleV0hPT1udWxsICYmIHRoaXMuZm9ybTFba2V5XS5ndWFyYW50ZWVJZCE9PW51bGwpewogICAgICAgICAgbGV0IGRhdGEgPSB7fTsKICAgICAgICAgIGRhdGFbJ2lkJ10gPSB0aGlzLmZvcm0xW2tleV0uZ3VhcmFudGVlSWQ7CiAgICAgICAgICBkYXRhWydndWFyYW50ZWVNZXRob2QnXSA9IHRoaXMubnVtMmd1YXJhbnRlZVt0aGlzLmZvcm0xW2tleV0uZ3VhcmFudGVlTWV0aG9kXTsKICAgICAgICAgIGRhdGFbJ2d1YXJhbnRlZU1ldGhvZE51bSddID0gdGhpcy5mb3JtMVtrZXldLmd1YXJhbnRlZU1ldGhvZDsKICAgICAgICAgIGxldCBpb3UgPSAnJzsKICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5mb3JtMVtrZXldLmlvdUlkTGlzdC5sZW5ndGggJiYgaTwxO2krKyl7CiAgICAgICAgICAgIGlvdSs9U3RyaW5nKHRoaXMuZm9ybTFba2V5XS5pb3VJZExpc3RbaV0udmFsdWUpKyc8YnIvPicKICAgICAgICAgIH0KICAgICAgICAgIGlmKHRoaXMuZm9ybTFba2V5XS5pb3VJZExpc3QubGVuZ3RoPjEpewogICAgICAgICAgICBpb3UrPScuLi4nCiAgICAgICAgICB9CiAgICAgICAgICBkYXRhWydpb3VMaXN0J10gPSBpb3U7CiAgICAgICAgICBkYXRhWydzdGF0ZSddPSfml6AnOwogICAgICAgICAgZGF0YVsnbm90ZSddID0gdGhpcy5mb3JtMVtrZXldLm5vdGU7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5wdXNoKGRhdGEpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICBndWFyYW50ZWVEZXRhaWwocm93KXsKICAgICAgdGhpcy5kcmF3ZXJfc2hvdz10cnVlOwogICAgICB0aGlzLm1ldGhvZE51bSA9IHJvdy5ndWFyYW50ZWVNZXRob2ROdW07CiAgICAgIHRoaXMuZHJhd2VySW5mbyA9IHRoaXMubnVtMmxhYmVsSW5mb1tyb3cuZ3VhcmFudGVlTWV0aG9kTnVtXTsKICAgICAgdGhpcy5MaXN0SW5mb1R5cGUgPSB0aGlzLm51bTJMaXRJbmZvW3Jvdy5ndWFyYW50ZWVNZXRob2ROdW1dOwogICAgfSwKICAgIGdldFRlbXBLZXkoKXsKICAgICAgdGhpcy50ZW1wX2tleSsrOwogICAgICByZXR1cm4gdGhpcy50ZW1wX2tleTsKICAgIH0sCiAgICBlZGl0KCl7CiAgICAgIC8v5aaC5p6c5piv5YWB6K6457yW6L6R77yM5Y2z5piv54K55Ye75pS+5byD5L+u5pS5CiAgICAgIGlmKHRoaXMuYWxsb3dfZWRpdCl7CiAgICAgICAgdGhpcy5hbGxvd19lZGl0PWZhbHNlOwogICAgICAgIHRoaXMuanNvbmRhdGEyZm9ybSh0aGlzLm9yaWdpbl9mb3JtX2RhdGEpOwogICAgICAgIHRoaXMuZWRpdF9sYWJlbD0n57yW6L6RJzsKICAgICAgfQogICAgICBlbHNlewogICAgICAgIC8v5Zyo5bey5a2Y5Zyo5paw5aKe5YCf5o2u5Y+35oiW6ICF5paw5aKe5oq15oq854mp54q25oCB5pe277yM5LiN5YWB6K6457yW6L6RCiAgICAgICAgaWYodGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dLmlvdUlkTGlzdC5sZW5ndGggPiB0aGlzLmZvcm0xW3RoaXMuZHJhd2VySW5mb10uaW91TGlzdF9sZW5ndGggfHwKICAgICAgICAgICAgKHRoaXMubWV0aG9kTnVtIT09JzMnICYmIHRoaXMubWV0aG9kTnVtIT09JzInICYmCiAgICAgICAgICAgICAgICB0aGlzLmZvcm0xW3RoaXMuZHJhd2VySW5mb11bdGhpcy5MaXN0SW5mb1R5cGVdLmxlbmd0aCA+IHRoaXMuZm9ybTFbdGhpcy5kcmF3ZXJJbmZvXS5MaXN0TGVuZ3RoKSl7CiAgICAgICAgICBhbGVydCgi5paw5aKe57yW6L6R5Lit77yM5LiN5YWB6K6457yW6L6RIik7CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICB0aGlzLmFsbG93X2VkaXQ9dHJ1ZTsKICAgICAgICAgIHRoaXMuZWRpdF9sYWJlbD0n5pS+5byD5L+u5pS5JzsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgdGltZURldGFpbChpbmRleCl7CiAgICAgIHRoaXMuZm9ybTFbdGhpcy5kcmF3ZXJJbmZvXVt0aGlzLkxpc3RJbmZvVHlwZV1baW5kZXhdLmRpYWxvZ1Nob3cgPSB0cnVlOwogICAgICBhcGkoewogICAgICAgIHVybDogIi9TZWN1cmUvZ2V0VGltZWxpbmVzc0hpc3RvcnkiLAogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIGRhdGE6ewogICAgICAgICAgZ3VhcmFudGVlVGltZUlkOnRoaXMuZm9ybTFbdGhpcy5kcmF3ZXJJbmZvXVt0aGlzLkxpc3RJbmZvVHlwZV1baW5kZXhdLmlkLAogICAgICAgICAgZ3VhcmFudGVlTWV0aG9kOnRoaXMubWV0aG9kTnVtCiAgICAgICAgfQogICAgICB9KS50aGVuKGRhdGEgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIHRoaXMub3JpZ2luX3RpbWVEYXRhID0gZGF0YS5kYXRhLmRhdGFzOwogICAgICAgIHRoaXMuanNvbmRhdGEydGltZURhdGEoZGF0YS5kYXRhLmRhdGFzKQoKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KQogICAgfSwKICAgIGpzb25kYXRhMnRpbWVEYXRhKGRhdGEpewogICAgICB0aGlzLnRpbWVEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhKSk7CiAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy50aW1lRGF0YS5sZW5ndGg7aSsrKXsKICAgICAgICB0aGlzLiRzZXQodGhpcy50aW1lRGF0YVtpXSwnZWRpdCcsZmFsc2UpOwogICAgICAgIHRoaXMuJHNldCh0aGlzLnRpbWVEYXRhW2ldLCdlZGl0X2xhYmVsJywi57yW6L6RIik7CiAgICAgIH0KICAgIH0sCiAgICB0aW1lRGF0YUVkaXQocm93LGluZGV4KXsKICAgICAgaWYoIXJvdy5lZGl0KXsKICAgICAgICByb3cuZWRpdD10cnVlOwogICAgICAgIHJvdy5lZGl0X2xhYmVsID0gIuaUvuW8g+S/ruaUuSI7CiAgICAgIH0KICAgICAgZWxzZXsKICAgICAgICByb3cuZWRpdCA9IGZhbHNlOwogICAgICAgIHJvdy5lZGl0X2xhYmVsPSLnvJbovpEiOwogICAgICAgIHJvdy5yZVJlZ2lzdHJhdGlvbkRhdGUgPSB0aGlzLm9yaWdpbl90aW1lRGF0YVtpbmRleF0ucmVSZWdpc3RyYXRpb25EYXRlOwogICAgICAgIHJvdy5ndWFyYW50ZWVTdGFydERhdGUgPSB0aGlzLm9yaWdpbl90aW1lRGF0YVtpbmRleF0uZ3VhcmFudGVlU3RhcnREYXRlOwogICAgICAgIHJvdy5ndWFyYW50ZWVFbmREYXRlID0gdGhpcy5vcmlnaW5fdGltZURhdGFbaW5kZXhdLmd1YXJhbnRlZUVuZERhdGU7CiAgICAgICAgcm93LnJlbWluZGVyRGF5ID0gdGhpcy5vcmlnaW5fdGltZURhdGFbaW5kZXhdLnJlbWluZGVyRGF5OwogICAgICB9CiAgICB9LAogICAgcmVSZWdpc3RlcihpbmRleCl7CiAgICAgIHRoaXMuaXNSZWdpc3RlciA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlQ2xvc2UoZG9uZSl7CiAgICAgIGlmKHRoaXMuaXNSZWdpc3Rlcil7CiAgICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5pS+5byD5L+u5pS55bm25YWz6Zet77yfJykKICAgICAgICAgICAgLnRoZW4oXyA9PiB7CiAgICAgICAgICAgICAgdGhpcy5pc1JlZ2lzdGVyPWZhbHNlOwogICAgICAgICAgICAgIHRoaXMubmV3R3VhcmFudGVlU3RhcnREYXRlID0nJzsKICAgICAgICAgICAgICB0aGlzLm5ld0d1YXJhbnRlZUVuZERhdGUgPScnOwogICAgICAgICAgICAgIHRoaXMubmV3UmVtaW5kZXJEYXkgPScnOwogICAgICAgICAgICAgIHRoaXMucmVSZWdpc3RlckRhdGUgPSAnJzsKICAgICAgICAgICAgICBkb25lKCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChfID0+IHt9KTsKICAgICAgfQogICAgICBlbHNlewogICAgICAgIGRvbmUoKTsKICAgICAgfQogICAgfSwKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICByZWdpc3RlclN1Ym1pdChpbmRleCl7CiAgICAgIGFwaSh7CiAgICAgICAgdXJsOiAiL1NlY3VyZS91cGRhdGVUaW1lbGluZXNzSGlzdG9yeSIsCiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgZGF0YTp7CiAgICAgICAgICBndWFyYW50ZWVUaW1lSWQ6dGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dW3RoaXMuTGlzdEluZm9UeXBlXVtpbmRleF0uaWQsCiAgICAgICAgICBndWFyYW50ZWVNZXRob2Q6dGhpcy5tZXRob2ROdW0sCiAgICAgICAgICBndWFyYW50ZWVTdGFydERhdGU6dGhpcy5uZXdHdWFyYW50ZWVTdGFydERhdGUsCiAgICAgICAgICBndWFyYW50ZWVFbmREYXRlOnRoaXMubmV3R3VhcmFudGVlRW5kRGF0ZSwKICAgICAgICAgIHJlbWluZGVyRGF5OnRoaXMubmV3UmVtaW5kZXJEYXksCiAgICAgICAgICByZVJlZ2lzdHJhdGlvbkRhdGU6dGhpcy5yZVJlZ2lzdGVyRGF0ZQogICAgICAgIH0KICAgICAgfSkudGhlbihkYXRhID0+IHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAvLyB0aGlzLnRpbWVEYXRhID0gZGF0YS5kYXRhLmRhdGFzOwogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pCiAgICB9LAogICAgc2F2ZVRhYmxlRGF0YSgpewogICAgICBsZXQgc2VuZF9kYXRhID0gW107CiAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy50aW1lRGF0YS5sZW5ndGg7aSsrKXsKICAgICAgICBpZih0aGlzLnRpbWVEYXRhW2ldLmVkaXQpewogICAgICAgICAgc2VuZF9kYXRhLnB1c2goewogICAgICAgICAgICBpZDp0aGlzLnRpbWVEYXRhW2ldLmlkLAogICAgICAgICAgICBndWFyYW50ZWVUaW1lSWQ6dGhpcy50aW1lRGF0YVtpXS5ndWFyYW50ZWVUaW1lSWQsCiAgICAgICAgICAgIGd1YXJhbnRlZVN0YXJ0RGF0ZTp0aGlzLnRpbWVEYXRhW2ldLmd1YXJhbnRlZVN0YXJ0RGF0ZSwKICAgICAgICAgICAgZ3VhcmFudGVlRW5kRGF0ZTp0aGlzLnRpbWVEYXRhW2ldLmd1YXJhbnRlZUVuZERhdGUsCiAgICAgICAgICAgIHJlbWluZGVyRGF5OnRoaXMudGltZURhdGFbaV0ucmVtaW5kZXJEYXksCiAgICAgICAgICAgIHJlUmVnaXN0cmF0aW9uRGF0ZTp0aGlzLnRpbWVEYXRhW2ldLnJlUmVnaXN0cmF0aW9uRGF0ZQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gY29uc29sZS5sb2coc2VuZF9kYXRhKTsKICAgICAgaWYoc2VuZF9kYXRhLmxlbmd0aD09PTApewogICAgICAgIGFsZXJ0KCLmnKrlj5HnjrDlj6/kv53lrZjnmoTmnaHnm64iKQogICAgICB9CiAgICAgIGVsc2V7CiAgICAgICAgYXBpKHsKICAgICAgICAgIHVybDogIi9TZWN1cmUvbW9kaWZ5VGltZWxpbmVzc0hpc3RvcnkiLAogICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICBkYXRhOnNlbmRfZGF0YQogICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgIC8vIHRoaXMudGltZURhdGEgPSBkYXRhLmRhdGEuZGF0YXM7CiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgZGVsZXRlVGltZURhdGEocm93KXsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5Yig6Zmk77yfJykKICAgICAgICAgIC50aGVuKF8gPT4gewogICAgICAgICAgICBhcGkoewogICAgICAgICAgICAgIHVybDogIi9TZWN1cmUvZGVsZXRlVGltZWxpbmVzc0hpc3RvcnkiLAogICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgIGRhdGE6W3Jvdy5pZF0KICAgICAgICAgICAgfSkudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgICAvLyB0aGlzLnRpbWVEYXRhID0gZGF0YS5kYXRhLmRhdGFzOwogICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKF8gPT4ge30pOwogICAgfSwKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICBzdWJtaXQoKXsKICAgICAgbGV0IHNlbmRfZGF0YSA9IHt9OwogICAgICAvLyBsZXQgdHlwZUluZGV4ID0geycwJzonY29sbGF0ZXJhbEluZm8nLCcxJzoncGxlZGdlc0luZm8nLCcyJzonYXNzdXJhbmNlSW5mbycsJzMnOidndWFyYW50ZWVJbmZvJ307CiAgICAgIC8vIGxldCB0eXBlSW5kZXgyID0geycwJzonY29sbGF0ZXJhbExpc3QnLCcxJzoncGxlZGdlc0xpc3QnLCcyJzonYXNzdXJhbmNlTGlzdCd9OwogICAgICAvLwogICAgICAvLyBsZXQgZ3VhcmFudGVlTWV0aG9kID0gdHlwZUluZGV4W3RoaXMubWV0aG9kTnVtXTsKICAgICAgc2VuZF9kYXRhW3RoaXMuZHJhd2VySW5mb10gPSB7fTsKICAgICAgc2VuZF9kYXRhW3RoaXMuZHJhd2VySW5mb11bJ2d1YXJhbnRlZUlkJ10gPSB0aGlzLmZvcm0xW3RoaXMuZHJhd2VySW5mb10uZ3VhcmFudGVlSWQKICAgICAgc2VuZF9kYXRhW3RoaXMuZHJhd2VySW5mb11bJ2d1YXJhbnRlZU1ldGhvZCddID0gdGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dLmd1YXJhbnRlZU1ldGhvZAogICAgICBzZW5kX2RhdGFbdGhpcy5kcmF3ZXJJbmZvXVsnbm90ZSddID0gdGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dLm5vdGU7CiAgICAgIHNlbmRfZGF0YVt0aGlzLmRyYXdlckluZm9dWydpb3VJZExpc3QnXSA9IHRoaXMub3JpZ2luX2Zvcm1fZGF0YVt0aGlzLmRyYXdlckluZm9dLmlvdUlkTGlzdAoKICAgICAgaWYodGhpcy5mb3JtMS5ndWFyYW50ZWVNZXRob2QgIT09ICczJyl7CiAgICAgICAgc2VuZF9kYXRhW3RoaXMuZHJhd2VySW5mb11bdGhpcy5MaXN0SW5mb1R5cGVdID0gW107CiAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmZvcm0xW3RoaXMuZHJhd2VySW5mb11bdGhpcy5MaXN0SW5mb1R5cGVdLmxlbmd0aDtpKyspewogICAgICAgICAgbGV0IHRlbXBfZGljdCA9IHt9OwogICAgICAgICAgZm9yKGxldCBrZXkgaW4gdGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dW3RoaXMuTGlzdEluZm9UeXBlXVtpXSl7CiAgICAgICAgICAgIGlmKGtleSA9PT0gJ2d1YXJhbnRvckxpc3QnKXsKICAgICAgICAgICAgICBsZXQgZ3VhcmFudG9ycz0nJzsKICAgICAgICAgICAgICBsZXQgajsKICAgICAgICAgICAgICBmb3Ioaj0wO2o8dGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dW3RoaXMuTGlzdEluZm9UeXBlXVtpXVtrZXldLmxlbmd0aDtqKyspewogICAgICAgICAgICAgICAgaWYoaj09PTApewogICAgICAgICAgICAgICAgICBndWFyYW50b3JzKz1TdHJpbmcodGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dW3RoaXMuTGlzdEluZm9UeXBlXVtpXVtrZXldW2pdLnZhbHVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgIGd1YXJhbnRvcnMrPSIsIitTdHJpbmcodGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dW3RoaXMuTGlzdEluZm9UeXBlXVtpXVtrZXldW2pdLnZhbHVlKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0ZW1wX2RpY3RbJ2d1YXJhbnRvciddID0gZ3VhcmFudG9yczsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmKGtleSAhPT0gJ2tleScgJiYga2V5ICE9PSAnaXNvcmlnaW4nICYmIGtleSE9PSAnZGlhbG9nU2hvdycpewogICAgICAgICAgICAgIHRlbXBfZGljdFtrZXldID0gdGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dW3RoaXMuTGlzdEluZm9UeXBlXVtpXVtrZXldOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBzZW5kX2RhdGFbdGhpcy5kcmF3ZXJJbmZvXVt0aGlzLkxpc3RJbmZvVHlwZV0ucHVzaCh0ZW1wX2RpY3QpOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyBjb25zb2xlLmxvZyhzZW5kX2RhdGEpOwogICAgICBhcGkoewogICAgICAgIHVybDogIi9TZWN1cmUvdXBkYXRlU2VjdXJlIiwKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICBkYXRhOnNlbmRfZGF0YQogICAgICB9KS50aGVuKGRhdGEgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIC8vIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvY3JlZGl0SW5mby9jcmVkaXRGaW5mby9jcmVkaXRNZW51Jyk7CiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSkKICAgIH0sCiAgICBkZWxldGVBbGwocm93KXsKICAgICAgYXBpKHsKICAgICAgICB1cmw6ICIvU2VjdXJlL2RlbGV0ZVNlY3VyZUJ5R3VhcmFudGVlSWQiLAogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIGRhdGE6eydndWFyYW50ZWVJZCc6cm93LmlkLCdndWFyYW50ZWVNZXRob2QnOnJvdy5ndWFyYW50ZWVNZXRob2ROdW19CiAgICAgIH0pLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgLy8gdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9jcmVkaXRJbmZvL2NyZWRpdEZpbmZvL2NyZWRpdE1lbnUnKTsKICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KQogICAgfSwKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvL+aLheS/neS6ugogICAgYWRkR3VhcmFudG9yKGluZGV4KXsKICAgICAgdGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dW3RoaXMuTGlzdEluZm9UeXBlXVtpbmRleF0uZ3VhcmFudG9yTGlzdC5wdXNoKHtrZXk6dGhpcy5nZXRUZW1wS2V5KCksdmFsdWU6Jyd9KTsKICAgIH0sCiAgICByZW1vdmVHdWFyYW50b3IoZ3VhcmFudG9yLGluZGV4KXsKICAgICAgdmFyIGkgPSB0aGlzLmZvcm0xW3RoaXMuZHJhd2VySW5mb11bdGhpcy5MaXN0SW5mb1R5cGVdW2luZGV4XS5ndWFyYW50b3JMaXN0LmluZGV4T2YoZ3VhcmFudG9yKTsKICAgICAgaWYoaSE9PS0xKXsKICAgICAgICB0aGlzLmZvcm0xW3RoaXMuZHJhd2VySW5mb11bdGhpcy5MaXN0SW5mb1R5cGVdW2luZGV4XS5ndWFyYW50b3JMaXN0LnNwbGljZShpLDEpOwogICAgICB9CiAgICB9LAovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8v5YCf5o2u5a+56LGhCiAgICBhZGRJb3UoKXsKICAgICAgdGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dLmlvdUlkTGlzdC5wdXNoKHtrZXk6dGhpcy5nZXRUZW1wS2V5KCksdmFsdWU6JycsaXNvcmlnaW46ZmFsc2V9KQogICAgfSwKICAgIHJlbW92ZUlvdShpb3UpewogICAgICAvL+WmguaenOWIoOmZpOeahOaYr+WOn+acieeahOWAn+aNru+8jOS8muiwg+eUqOWIoOmZpOaOpeWPo++8jOWQpuWImeWPquaYr+WcqOeVjOmdouS4iuWIoOmZpAogICAgICBpZihpb3UuaXNvcmlnaW4pewogICAgICAgIGFwaSh7CiAgICAgICAgICB1cmw6ICIvU2VjdXJlL2RlbGV0ZVNlY3VyZUJ5SW91SWQiLAogICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICBkYXRhOntndWFyYW50ZWVJZDp0aGlzLmZvcm0xW3RoaXMuZHJhd2VySW5mb10uZ3VhcmFudGVlSWQsaW91SWQ6aW91LnZhbHVlfQogICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvY3JlZGl0SW5mby9jcmVkaXRGaW5mby9jcmVkaXRNZW51Jyk7CiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KQogICAgICB9CiAgICAgIGVsc2V7CiAgICAgICAgdmFyIGkgPSB0aGlzLmZvcm0xW3RoaXMuZHJhd2VySW5mb10uaW91SWRMaXN0LmluZGV4T2YoaW91KTsKICAgICAgICBpZiAoaSAhPT0gLTEpIHsKICAgICAgICAgIHRoaXMuZm9ybTFbdGhpcy5kcmF3ZXJJbmZvXS5pb3VJZExpc3Quc3BsaWNlKGksIDEpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFkZElvdVN1Ym1pdCgpewogICAgICAvL+aPkOS6pOaWsOWinueahOWAn+aNrgogICAgICBsZXQgc2VuZF9kYXRhID0gW107CiAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dLmlvdUlkTGlzdC5sZW5ndGg7aSsrKXsKICAgICAgICBpZighdGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dLmlvdUlkTGlzdFtpXS5pc29yaWdpbil7CiAgICAgICAgICBzZW5kX2RhdGEucHVzaCh7CiAgICAgICAgICAgIGlvdUlkOnRoaXMuZm9ybTFbdGhpcy5kcmF3ZXJJbmZvXS5pb3VJZExpc3RbaV0udmFsdWUsCiAgICAgICAgICAgIGd1YXJhbnRlZUlkOnRoaXMuZm9ybTFbdGhpcy5kcmF3ZXJJbmZvXS5ndWFyYW50ZWVJZCwKICAgICAgICAgICAgZ3VhcmFudGVlTWV0aG9kOnRoaXMuZm9ybTFbdGhpcy5kcmF3ZXJJbmZvXS5ndWFyYW50ZWVNZXRob2QsCiAgICAgICAgICAgIG5vdGU6dGhpcy5mb3JtMVt0aGlzLmRyYXdlckluZm9dLm5vdGUsCiAgICAgICAgICAgIGRlbGV0ZUZsYWc6MAogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0KICAgICAgYXBpKHsKICAgICAgICB1cmw6ICIvU2VjdXJlL2FkZElvdUlkIiwKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICBkYXRhOnNlbmRfZGF0YQogICAgICB9KS50aGVuKGRhdGEgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIC8vIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvY3JlZGl0SW5mby9jcmVkaXRGaW5mby9jcmVkaXRNZW51Jyk7CiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSkKCiAgICB9LAogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8v5oq15oq854mpCiAgICBhZGRDb2xsYXRlcmEoKXsKICAgICAgdGhpcy5mb3JtMS5jb2xsYXRlcmFsSW5mby5jb2xsYXRlcmFsTGlzdC5wdXNoKHtrZXk6dGhpcy5nZXRUZW1wS2V5KCksY29sbGF0ZXJhbE5hbWU6JycsY29sbGF0ZXJhbFR5cGU6JycsY29sbGF0ZXJhbExvY2F0aW9uOicnLGxhbmRBcmVhOicnLGxhbmRUeXBlOicnLCBwcm9wZXJ0eVNpemU6JycsYXBwcmFpc2VkVmFsdWU6JycscmVnaXN0cmF0aW9uQW1vdW50OicnLGd1YXJhbnRvckxpc3Q6W3trZXk6dGhpcy5nZXRUZW1wS2V5KCksdmFsdWU6Jyd9XSxndWFyYW50ZWVTdGFydERhdGU6JycsIGd1YXJhbnRlZUVuZERhdGU6JycscmVtaW5kZXJEYXk6JycsaXNvcmlnaW46ZmFsc2V9KQogICAgICB0aGlzLmFjdGl2ZU5hbWVzPVt0aGlzLmZvcm0xLmNvbGxhdGVyYWxJbmZvLmNvbGxhdGVyYWxMaXN0Lmxlbmd0aC0xXTsKICAgIH0sCiAgICAvL+i0qOaKvOeJqQogICAgYWRkUGxlZGdlKCl7CiAgICAgIHRoaXMuZm9ybTEucGxlZGdlc0luZm8ucGxlZGdlc0xpc3QucHVzaCh7a2V5OnRoaXMuZ2V0VGVtcEtleSgpLHBsZWRnZXNOYW1lOicnLHBsZWRnZXNWYWx1ZTonJyxwbGVkZ2VzVHlwZTonJyxndWFyYW50b3JMaXN0Olt7a2V5OnRoaXMuZ2V0VGVtcEtleSgpLHZhbHVlOicnfV0sZ3VhcmFudGVlU3RhcnREYXRlOicnLCBndWFyYW50ZWVFbmREYXRlOicnLHJlbWluZGVyRGF5OicnLGlzb3JpZ2luOmZhbHNlfSkKICAgICAgdGhpcy5hY3RpdmVOYW1lcz1bdGhpcy5mb3JtMS5wbGVkZ2VzSW5mby5wbGVkZ2VzTGlzdC5sZW5ndGgtMV07CiAgICB9LAoKICAgIGFkZEFzc3VyYW5jZSgpewogICAgICB0aGlzLmZvcm0xLmFzc3VyYW5jZUluZm8uYXNzdXJhbmNlTGlzdC5wdXNoKHtrZXk6dGhpcy5nZXRUZW1wS2V5KCksZ3VhcmFudG9yTGlzdDpbe2tleTp0aGlzLmdldFRlbXBLZXkoKSx2YWx1ZTonJ31dLGd1YXJhbnRlZVN0YXJ0RGF0ZTonJywgZ3VhcmFudGVlRW5kRGF0ZTonJyxyZW1pbmRlckRheTonJyxpc29yaWdpbjpmYWxzZX0pCiAgICAgIHRoaXMuYWN0aXZlTmFtZXM9W3RoaXMuZm9ybTEuYXNzdXJhbmNlSW5mby5hc3N1cmFuY2VMaXN0Lmxlbmd0aC0xXTsKICAgIH0sCiAgICBhZGRDb2xsYXRlcmFPclBsZWRnZVN1Ym1pdCgpewogICAgICBpZih0aGlzLm1ldGhvZE51bT09PScwJyl7CiAgICAgICAgbGV0IHNlbmRfZGF0YSA9IFtdOwogICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5mb3JtMS5jb2xsYXRlcmFsSW5mby5jb2xsYXRlcmFsTGlzdC5sZW5ndGg7aSsrKXsKICAgICAgICAgIGlmKCF0aGlzLmZvcm0xLmNvbGxhdGVyYWxJbmZvLmNvbGxhdGVyYWxMaXN0W2ldLmlzb3JpZ2luKXsKICAgICAgICAgICAgbGV0IGd1YXJhbnRvcnMgPSAnJzsKICAgICAgICAgICAgZm9yKGxldCBqPTA7ajx0aGlzLmZvcm0xLmNvbGxhdGVyYWxJbmZvLmNvbGxhdGVyYWxMaXN0W2ldLmd1YXJhbnRvckxpc3QubGVuZ3RoO2orKyl7CiAgICAgICAgICAgICAgaWYoaj09PTApewogICAgICAgICAgICAgICAgZ3VhcmFudG9ycyArPSBTdHJpbmcodGhpcy5mb3JtMS5jb2xsYXRlcmFsSW5mby5jb2xsYXRlcmFsTGlzdFtpXS5ndWFyYW50b3JMaXN0W2pdLnZhbHVlKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgZ3VhcmFudG9ycyArPSAiLCIgKyBTdHJpbmcodGhpcy5mb3JtMS5jb2xsYXRlcmFsSW5mby5jb2xsYXRlcmFsTGlzdFtpXS5ndWFyYW50b3JMaXN0W2pdLnZhbHVlKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBzZW5kX2RhdGEucHVzaCh7CiAgICAgICAgICAgICAgZ3VhcmFudGVlSWQ6dGhpcy5mb3JtMS5jb2xsYXRlcmFsSW5mby5ndWFyYW50ZWVJZCwKICAgICAgICAgICAgICBjb2xsYXRlcmFsTmFtZTp0aGlzLmZvcm0xLmNvbGxhdGVyYWxJbmZvLmNvbGxhdGVyYWxMaXN0W2ldLmNvbGxhdGVyYWxOYW1lLAogICAgICAgICAgICAgIGNvbGxhdGVyYWxMb2NhdGlvbjp0aGlzLmZvcm0xLmNvbGxhdGVyYWxJbmZvLmNvbGxhdGVyYWxMaXN0W2ldLmNvbGxhdGVyYWxMb2NhdGlvbiwKICAgICAgICAgICAgICBsYW5kQXJlYTp0aGlzLmZvcm0xLmNvbGxhdGVyYWxJbmZvLmNvbGxhdGVyYWxMaXN0W2ldLmxhbmRBcmVhLAogICAgICAgICAgICAgIHByb3BlcnR5U2l6ZTp0aGlzLmZvcm0xLmNvbGxhdGVyYWxJbmZvLmNvbGxhdGVyYWxMaXN0W2ldLnByb3BlcnR5U2l6ZSwKICAgICAgICAgICAgICBhcHByYWlzZWRWYWx1ZTp0aGlzLmZvcm0xLmNvbGxhdGVyYWxJbmZvLmNvbGxhdGVyYWxMaXN0W2ldLmFwcHJhaXNlZFZhbHVlLAogICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbkFtb3VudDp0aGlzLmZvcm0xLmNvbGxhdGVyYWxJbmZvLmNvbGxhdGVyYWxMaXN0W2ldLnJlZ2lzdHJhdGlvbkFtb3VudCwKICAgICAgICAgICAgICBjb2xsYXRlcmFsVHlwZTp0aGlzLmZvcm0xLmNvbGxhdGVyYWxJbmZvLmNvbGxhdGVyYWxMaXN0W2ldLmNvbGxhdGVyYWxUeXBlLAogICAgICAgICAgICAgIGxhbmRUeXBlOnRoaXMuZm9ybTEuY29sbGF0ZXJhbEluZm8uY29sbGF0ZXJhbExpc3RbaV0ubGFuZFR5cGUsCiAgICAgICAgICAgICAgcmVtaW5kZXJEYXk6dGhpcy5mb3JtMS5jb2xsYXRlcmFsSW5mby5jb2xsYXRlcmFsTGlzdFtpXS5yZW1pbmRlckRheSwKICAgICAgICAgICAgICBndWFyYW50ZWVTdGFydERhdGU6dGhpcy5mb3JtMS5jb2xsYXRlcmFsSW5mby5jb2xsYXRlcmFsTGlzdFtpXS5ndWFyYW50ZWVTdGFydERhdGUsCiAgICAgICAgICAgICAgZ3VhcmFudGVlRW5kRGF0ZTp0aGlzLmZvcm0xLmNvbGxhdGVyYWxJbmZvLmNvbGxhdGVyYWxMaXN0W2ldLmd1YXJhbnRlZUVuZERhdGUsCiAgICAgICAgICAgICAgZ3VhcmFudG9yOmd1YXJhbnRvcnMsCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGFwaSh7CiAgICAgICAgICB1cmw6ICIvU2VjdXJlL2FkZENvbGxhdGVyYWwiLAogICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICBkYXRhOnNlbmRfZGF0YQogICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvY3JlZGl0SW5mby9jcmVkaXRGaW5mby9jcmVkaXRNZW51Jyk7CiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KQogICAgICB9CiAgICAgIGVsc2UgaWYodGhpcy5tZXRob2ROdW09PT0nMScpewogICAgICAgIGxldCBzZW5kX2RhdGEgPSBbXTsKICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuZm9ybTEucGxlZGdlc0luZm8ucGxlZGdlc0xpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgICBpZighdGhpcy5mb3JtMS5wbGVkZ2VzSW5mby5wbGVkZ2VzTGlzdFtpXS5pc29yaWdpbil7CiAgICAgICAgICAgIGxldCBndWFyYW50b3JzID0gJyc7CiAgICAgICAgICAgIGZvcihsZXQgaj0wO2o8dGhpcy5mb3JtMS5wbGVkZ2VzSW5mby5wbGVkZ2VzTGlzdFtpXS5ndWFyYW50b3JMaXN0Lmxlbmd0aDtqKyspewogICAgICAgICAgICAgIGlmKGo9PT0wKXsKICAgICAgICAgICAgICAgIGd1YXJhbnRvcnMgKz0gU3RyaW5nKHRoaXMuZm9ybTEucGxlZGdlc0luZm8ucGxlZGdlc0xpc3RbaV0uZ3VhcmFudG9yTGlzdFtqXS52YWx1ZSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgIGd1YXJhbnRvcnMgKz0gIiwiICsgU3RyaW5nKHRoaXMuZm9ybTEucGxlZGdlc0luZm8ucGxlZGdlc0xpc3RbaV0uZ3VhcmFudG9yTGlzdFtqXS52YWx1ZSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2VuZF9kYXRhLnB1c2goewogICAgICAgICAgICAgIGd1YXJhbnRlZUlkOnRoaXMuZm9ybTEucGxlZGdlc0luZm8uZ3VhcmFudGVlSWQsCiAgICAgICAgICAgICAgcGxlZGdlc05hbWU6dGhpcy5mb3JtMS5wbGVkZ2VzSW5mby5wbGVkZ2VzTGlzdFtpXS5wbGVkZ2VzTmFtZSwKICAgICAgICAgICAgICBwbGVkZ2VzVmFsdWU6dGhpcy5mb3JtMS5wbGVkZ2VzSW5mby5wbGVkZ2VzTGlzdFtpXS5wbGVkZ2VzVmFsdWUsCiAgICAgICAgICAgICAgcGxlZGdlc1R5cGU6dGhpcy5mb3JtMS5wbGVkZ2VzSW5mby5wbGVkZ2VzTGlzdFtpXS5wbGVkZ2VzVHlwZSwKICAgICAgICAgICAgICByZW1pbmRlckRheTp0aGlzLmZvcm0xLnBsZWRnZXNJbmZvLnBsZWRnZXNMaXN0W2ldLnJlbWluZGVyRGF5LAogICAgICAgICAgICAgIGd1YXJhbnRlZVN0YXJ0RGF0ZTp0aGlzLmZvcm0xLnBsZWRnZXNJbmZvLnBsZWRnZXNMaXN0W2ldLmd1YXJhbnRlZVN0YXJ0RGF0ZSwKICAgICAgICAgICAgICBndWFyYW50ZWVFbmREYXRlOnRoaXMuZm9ybTEucGxlZGdlc0luZm8ucGxlZGdlc0xpc3RbaV0uZ3VhcmFudGVlRW5kRGF0ZSwKICAgICAgICAgICAgICBndWFyYW50b3I6Z3VhcmFudG9ycywKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYXBpKHsKICAgICAgICAgIHVybDogIi9TZWN1cmUvYWRkUGxlZGdlcyIsCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgIGRhdGE6c2VuZF9kYXRhCiAgICAgICAgfSkudGhlbihkYXRhID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgLy8gdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9jcmVkaXRJbmZvL2NyZWRpdEZpbmZvL2NyZWRpdE1lbnUnKTsKICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pCiAgICAgIH0KICAgICAgZWxzZSBpZih0aGlzLm1ldGhvZE51bT09PScyJykgewogICAgICAgIGxldCBzZW5kX2RhdGEgPSBbXTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZm9ybTEuYXNzdXJhbmNlSW5mby5hc3N1cmFuY2VMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoIXRoaXMuZm9ybTEuYXNzdXJhbmNlSW5mby5hc3N1cmFuY2VMaXN0W2ldLmlzb3JpZ2luKSB7CiAgICAgICAgICAgIGxldCBndWFyYW50b3JzID0gJyc7CiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5mb3JtMS5hc3N1cmFuY2VJbmZvLmFzc3VyYW5jZUxpc3RbaV0uZ3VhcmFudG9yTGlzdC5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIGlmIChqID09PSAwKSB7CiAgICAgICAgICAgICAgICBndWFyYW50b3JzICs9IFN0cmluZyh0aGlzLmZvcm0xLmFzc3VyYW5jZUluZm8uYXNzdXJhbmNlTGlzdFtpXS5ndWFyYW50b3JMaXN0W2pdLnZhbHVlKQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBndWFyYW50b3JzICs9ICIsIiArIFN0cmluZyh0aGlzLmZvcm0xLmFzc3VyYW5jZUluZm8uYXNzdXJhbmNlTGlzdFtpXS5ndWFyYW50b3JMaXN0W2pdLnZhbHVlKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBzZW5kX2RhdGEucHVzaCh7CiAgICAgICAgICAgICAgZ3VhcmFudGVlSWQ6IHRoaXMuZm9ybTEuYXNzdXJhbmNlSW5mby5ndWFyYW50ZWVJZCwKICAgICAgICAgICAgICByZW1pbmRlckRheTogdGhpcy5mb3JtMS5hc3N1cmFuY2VJbmZvLmFzc3VyYW5jZUxpc3RbaV0ucmVtaW5kZXJEYXksCiAgICAgICAgICAgICAgZ3VhcmFudGVlU3RhcnREYXRlOiB0aGlzLmZvcm0xLmFzc3VyYW5jZUluZm8uYXNzdXJhbmNlTGlzdFtpXS5ndWFyYW50ZWVTdGFydERhdGUsCiAgICAgICAgICAgICAgZ3VhcmFudGVlRW5kRGF0ZTogdGhpcy5mb3JtMS5hc3N1cmFuY2VJbmZvLmFzc3VyYW5jZUxpc3RbaV0uZ3VhcmFudGVlRW5kRGF0ZSwKICAgICAgICAgICAgICBndWFyYW50b3I6IGd1YXJhbnRvcnMsCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGFwaSh7CiAgICAgICAgICB1cmw6ICIvU2VjdXJlL2FkZEFzc3VyYW5jZSIsCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgIGRhdGE6IHNlbmRfZGF0YQogICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvY3JlZGl0SW5mby9jcmVkaXRGaW5mby9jcmVkaXRNZW51Jyk7CiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgcmVtb3ZlSW5mbyhpbmZvKXsKICAgICAgaWYoaW5mby5pc29yaWdpbil7CiAgICAgICAgbGV0IHVybCA9IHsnMCc6Ii9TZWN1cmUvZGVsZXRlQ29sbGF0ZXJhbCIsJzEnOiIvU2VjdXJlL2RlbGV0ZVBsZWRnZXMiLCcyJzoiL1NlY3VyZS9kZWxldGVBc3N1cmFuY2UifQogICAgICAgIGFwaSh7CiAgICAgICAgICB1cmw6IHVybFt0aGlzLm1ldGhvZE51bV0sCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgIGRhdGE6W2luZm8uaWRdCiAgICAgICAgfSkudGhlbihkYXRhID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgLy8gdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9jcmVkaXRJbmZvL2NyZWRpdEZpbmZvL2NyZWRpdE1lbnUnKTsKICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pCiAgICAgIH0KICAgICAgZWxzZXsKICAgICAgICB2YXIgaSA9IHRoaXMuZm9ybTFbdGhpcy5kcmF3ZXJJbmZvXVt0aGlzLkxpc3RJbmZvVHlwZV0uaW5kZXhPZihpbmZvKTsKICAgICAgICBpZihpICE9PSAtMSl7CiAgICAgICAgICB0aGlzLmZvcm0xW3RoaXMuZHJhd2VySW5mb11bdGhpcy5MaXN0SW5mb1R5cGVdLnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["xqSmortgage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2fA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"xqSmortgage.vue","sourceRoot":"src/views/creditInfo/creditFinfo","sourcesContent":["<template>\n  <div>\n    <el-breadcrumb separator=\"/\">\n      <el-breadcrumb-item to=\"/Main\"><i class=\"el-icon-s-home\"></i></el-breadcrumb-item>\n      <el-breadcrumb-item class=\"el-breadcrumb1\">债权信息</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"el-breadcrumb1\">担保抵押信息</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-row class=\"el-row1\">\n      <el-col :span=\"24\">\n        <div class=\"grid-content\">\n          <!--          <el-button @click=\"edit\">{{edit_label}}</el-button>-->\n          <!--          <el-popconfirm-->\n          <!--              title=\"确定提交？\"-->\n          <!--              style=\"margin-right: 40px;margin-left: 20px\"-->\n          <!--              @confirm=\"submit\">-->\n          <!--            <el-button type=\"primary\" slot=\"reference\">提交</el-button>-->\n          <!--          </el-popconfirm>-->\n        </div>\n      </el-col>\n    </el-row>\n    <el-menu\n        :default-active=\"activeIndex\"\n        class=\"el-menu-demo\"\n        mode=\"horizontal\"\n        background-color=\"#b2bec3\"\n        text-color=\"#333\"\n        active-text-color=\"#409eff\">\n      <el-menu-item index=\"1\">\n        <router-link\n            :to=\"{path:'/creditInfo/creditFinfo/xqCreditFinfo',query:{iou:query_iou}}\">债权基本信息</router-link>\n      </el-menu-item>\n      <el-menu-item index=\"2\">\n        <router-link\n            :to=\"{path:'/creditInfo/creditFinfo/xqSmortgage',query:{iou:query_iou}}\">担保抵押信息</router-link>\n      </el-menu-item>\n      <el-menu-item index=\"3\">\n        <router-link\n            :to=\"{path:'/creditInfo/creditFinfo/xqFee',query:{iou:query_iou}}\">债权费用信息</router-link>\n      </el-menu-item>\n      <el-menu-item index=\"4\">\n        <router-link\n            :to=\"{path:'/creditInfo/creditFinfo/xqRecall',query:{iou:query_iou}}\">债权清收信息</router-link>\n      </el-menu-item>\n      <el-menu-item index=\"5\">\n        <router-link\n            :to=\"{path:'/creditInfo/creditFinfo/xqJudicature',query:{iou:query_iou}}\">债权司法信息</router-link>\n      </el-menu-item>\n      <el-menu-item index=\"6\">\n        <router-link\n            :to=\"{path:'/creditInfo/creditFinfo/xqCollection',query:{iou:query_iou}}\">债权催收信息</router-link>\n      </el-menu-item>\n    </el-menu>\n\n    <div class=\"table_container\">\n      <el-table\n          :data=\"tableData\"\n          style=\"width: 85%\">\n        <el-table-column prop=\"id\" label=\"担保ID\"></el-table-column>\n        <el-table-column prop=\"guaranteeMethod\" label=\"担保方式\"></el-table-column>\n        <el-table-column prop=\"iouList\" label=\"借据号\">\n          <template slot-scope=\"scope\">\n            <span v-html=\"scope.row.iouList\"></span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"state\" label=\"状态\"></el-table-column>\n        <el-table-column prop=\"note\" label=\"备注\"></el-table-column>\n        <el-table-column prop=\"operate\" label=\"操作\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button @click=\"guaranteeDetail(scope.row)\" type=\"text\" size=\"small\">详情</el-button>\n            <el-popconfirm\n                title=\"确定删除整个担保？\"\n                @confirm=\"deleteAll(scope.row)\"\n                style=\"margin-left: 5px\">\n              <el-button type=\"text\" slot=\"reference\" size=\"small\">删除</el-button>\n            </el-popconfirm>\n            <!--            <el-button type=\"text\" size=\"small\">删除</el-button>-->\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n\n\n    <!--    :with-header=\"false\"-->\n    <el-drawer\n        :visible.sync=\"drawer_show\"\n        :wrapperClosable=\"false\"\n        show-close\n        size=\"50%\">\n      <!--      <div style=\"display: flex;justify-content: space-between\">-->\n      <!--        <span style=\"font-size: 20px; font-weight: bold;margin: 40px 0 0 20px\"></span>-->\n      <!--        <el-button icon=\"el-icon-close\" style=\"border: none; padding: 0 0 0 0; margin: 40px 20px 0 0; font-size: 20px\"></el-button>-->\n      <!--      </div>-->\n      <el-divider class=\"inner_divider_top\"></el-divider>\n      <el-row class=\"innerBar\">\n        <el-col :span=\"24\">\n          <div>\n            <el-button @click=\"edit\">{{edit_label}}</el-button>\n            <el-popconfirm\n                v-if=\"allow_edit\"\n                title=\"确定提交？\"\n                style=\"margin-right: 40px;margin-left: 20px\"\n                @confirm=\"submit\">\n              <el-button type=\"primary\" slot=\"reference\">提交</el-button>\n            </el-popconfirm>\n          </div>\n        </el-col>\n      </el-row>\n      <el-form label-width=\"80px\" label-position=\"left\">\n        <span style=\"font-size: 15px; font-weight: bold; margin-left:20px; margin-bottom:20px; display:inline-block\">#基础信息</span>\n\n        <el-form-item label=\"担保ID:\">\n          <el-input v-model=\"form1[drawerInfo].guaranteeId\" style=\"width: 45%\" :disabled=\"true\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"担保方式:\">\n          <!--          <el-select v-if=\"allow_edit\" v-model=\"form1[drawerInfo].guaranteeMethod\" placeholder=\"请选择\" style=\"width: 45%\">-->\n          <!--            <el-option-->\n          <!--                v-for=\"item in guaranteeMethodOptions\"-->\n          <!--                :key=\"item.value\"-->\n          <!--                :label=\"item.label\"-->\n          <!--                :value=\"item.value\">-->\n          <!--            </el-option>-->\n          <!--          </el-select>-->\n          <el-input v-model=\"num2guarantee[form1[drawerInfo].guaranteeMethod]\" style=\"width: 45%\" :disabled=\"true\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"备注:\">\n          <el-input v-model=\"form1[drawerInfo].note\" style=\"width: 45%\" :disabled=\"!allow_edit\"></el-input>\n        </el-form-item>\n\n        <el-divider></el-divider>\n        <span style=\"font-size: 15px; font-weight: bold; margin-left:20px; margin-bottom:20px; display:inline-block\">#借据号列表</span>\n        <el-form-item\n            v-for=\"(iou, index) in form1[drawerInfo].iouIdList\"\n            :label=\"'借据号' + index\"\n            :key=\"iou.key\">\n          <el-input v-model=\"iou.value\" style=\"width: 45%\" :disabled=\"iou.isorigin\"></el-input>\n          <el-popconfirm\n              v-if=\"iou.isorigin && !allow_edit\"\n              :title=\"Boolean(form1[drawerInfo].iouIdList.length>1)?'确定删除该借据？':'确定删除最后一个借据？此删除将删除整个担保信息'\"\n              @confirm=\"removeIou(iou)\">\n            <el-button\n                type=\"text\"\n                slot=\"reference\"\n                style=\"margin-left: 20px\">\n              删除\n            </el-button>\n          </el-popconfirm>\n          <el-button\n              v-if=\"!iou.isorigin && !allow_edit\"\n              @click.prevent=\"removeIou(iou)\"\n              type=\"text\"\n              style=\"margin-left: 20px\">\n            删除\n          </el-button>\n        </el-form-item>\n        <el-form-item style=\"margin-left: 35px\">\n          <el-button v-if=\"!allow_edit\" type=\"primary\" @click=\"addIou\">新增借据</el-button>\n          <el-popconfirm\n              v-if=\"this.form1[drawerInfo].iouIdList.length > this.form1[drawerInfo].iouList_length\"\n              title=\"确定提交新增的借据？\"\n              @confirm=\"addIouSubmit()\">\n            <el-button\n                type=\"primary\"\n                slot=\"reference\"\n                style=\"margin-left: 20px\">\n              提交\n            </el-button>\n          </el-popconfirm>\n        </el-form-item>\n      </el-form>\n\n      <el-form v-if=\"methodNum!=='3'\">\n        <el-divider></el-divider>\n        <span style=\"font-size: 15px; font-weight: bold; margin-left:20px; margin-bottom:20px; display:inline-block\">{{label_info[methodNum]}}</span>\n        <el-collapse v-model=\"activeNames\" class=\"card_list\">\n          <el-card\n              v-for=\"(info,index1) in form1[drawerInfo][ListInfoType]\"\n              :key=\"info.key\">\n            <!--            /////////////////////////////////////////////////////卡片头部///////////////////////////////////////////////////-->\n            <div style=\"display: flex; justify-content: space-between\">\n              <el-form label-width=\"80px\" class=\"card_head_form\">\n                <el-form-item\n                    v-if=\"methodNum!=='2' && methodNum !=='3' && activeNames.indexOf(index1) === -1 && info.isorigin\"\n                    :label=\"cardLabel[methodNum].label\">\n                  <el-input v-model=\"info[cardLabel[methodNum].value_index]\" style=\"width: 45%;\" :disabled=\"true\"></el-input>\n                </el-form-item>\n                <el-form-item\n                    v-if=\"methodNum !=='3' && activeNames.indexOf(index1) === -1 && info.isorigin\"\n                    label=\"担保人\">\n                  <el-input v-model=\"info.guarantor\" style=\"width: 45%;\" :disabled=\"true\"></el-input>\n                </el-form-item>\n                <el-form-item\n                    v-if=\"methodNum !=='3' && activeNames.indexOf(index1) === -1 && info.isorigin\"\n                    label=\"担保时效:\">\n                  <el-input v-model=\"info.guaranteeStartDate\" style=\"width: 20%;\" :disabled=\"true\"></el-input>\n                  <span style=\"color: #DCDFE6;margin: 0 3px 0 3px\">~</span>\n                  <el-input v-model=\"info.guaranteeEndDate\" style=\"width: 25%;\" :disabled=\"true\"></el-input>\n                </el-form-item>\n                <span v-if=\"methodNum !=='3' && !info.isorigin\" style=\"color: #409eff;font-size: small;display: inline-block;margin-top: 8px\">新增编辑中</span>\n              </el-form>\n              <el-popconfirm\n                  v-if=\"info.isorigin && !allow_edit\"\n                  title=\"确定删除该信息？\"\n                  @confirm=\"removeInfo(info)\">\n                <el-button\n                    type=\"text\"\n                    slot=\"reference\">\n                  删除\n                </el-button>\n              </el-popconfirm>\n              <el-button v-if=\"!allow_edit && !info.isorigin\" type=\"text\" @click.native=\"removeInfo(info)\">删除</el-button>\n            </div>\n            <el-divider class=\"inner_divider\"></el-divider>\n            <!--            /////////////////////////////////////////////////////卡片内部具体内容///////////////////////////////////////////////////-->\n            <el-collapse-item :name=\"index1\">\n              <el-form label-width=\"130px\" label-position=\"left\" v-if=\"Boolean(methodNum==='0')\">\n                <!--                <el-form-item label=\"抵押物ID:\">-->\n                <!--                  <el-input v-model=\"info.id\" style=\"width: 45%\" :disabled=\"!allow_edit\"></el-input>-->\n                <!--                </el-form-item>-->\n                <el-form-item label=\"抵押物名称:\">\n                  <el-input v-model=\"info.collateralName\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"抵押物类型:\">\n                  <el-select v-if=\"allow_edit || !info.isorigin\" v-model=\"info.collateralType\" placeholder=\"请选择\" style=\"width: 45%\">\n                    <el-option\n                        v-for=\"item in collateralType_options\"\n                        :key=\"item.value\"\n                        :label=\"item.label\"\n                        :value=\"item.value\">\n                    </el-option>\n                  </el-select>\n                  <el-input v-if=\"!allow_edit && info.isorigin\" v-model=\"collateralTypeIndex[info.collateralType]\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"抵押物位置:\">\n                  <el-input v-model=\"info.collateralLocation\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"土地面积:\">\n                  <el-input v-model=\"info.landArea\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"土地性质:\">\n                  <el-select v-if=\"allow_edit || !info.isorigin\" v-model=\"landTypeTypeIndex[info.landType]\" placeholder=\"请选择\" style=\"width: 45%\">\n                    <el-option\n                        v-for=\"item in landType_options\"\n                        :key=\"item.value\"\n                        :label=\"item.label\"\n                        :value=\"item.value\">\n                    </el-option>\n                  </el-select>\n                  <el-input v-if=\"!allow_edit && info.isorigin\" v-model=\"info.landType\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"房产面积:\">\n                  <el-input v-model=\"info.propertySize\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"抵押物评估价:\">\n                  <el-input v-model=\"info.appraisedValue\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"抵押物登记金额:\">\n                  <el-input v-model=\"info.registrationAmount\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"担保时效起止日期:\">\n                  <el-input v-if=\"!allow_edit && info.isorigin\" v-model=\"info.guaranteeStartDate\" style=\"width: 30%;\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                  <span v-if=\"!allow_edit && info.isorigin\" style=\"color: #DCDFE6;margin: 0 3px 0 3px\">~</span>\n                  <el-input v-if=\"!allow_edit && info.isorigin\" v-model=\"info.guaranteeEndDate\" style=\"width: 30%;\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                  <el-button v-if=\"!allow_edit && info.isorigin\" type=\"text\" size=\"small\" @click=\"timeDetail(index1)\">详情</el-button>\n                  <!--                  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->\n                  <el-dialog v-if=\"info.isorigin\" title=\"担保时效历史\" :visible.sync=\"info.dialogShow\" :append-to-body=\"true\" :close-on-click-modal=\"false\" :before-close=\"handleClose\">\n                    <el-table :data=\"timeData\">\n                      <el-table-column property=\"guaranteeMethod\" label=\"时效类型\" width=\"80\"></el-table-column>\n                      <el-table-column property=\"reRegistrationDate\" label=\"创建日期\" width=\"120\">\n                        <template slot-scope=\"scope\">\n                          <span v-show=\"!scope.row.edit\">{{scope.row.reRegistrationDate}}</span>\n                          <el-date-picker v-show=\"scope.row.edit\" v-model=\"scope.row.reRegistrationDate\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\"></el-date-picker>\n                        </template>\n                      </el-table-column>\n                      <el-table-column property=\"guaranteeStartDate\" label=\"时效起始日\" width=\"120\">\n                        <template slot-scope=\"scope\">\n                          <span v-show=\"!scope.row.edit\">{{scope.row.guaranteeStartDate}}</span>\n                          <el-date-picker v-show=\"scope.row.edit\" v-model=\"scope.row.guaranteeStartDate\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\"></el-date-picker>\n                        </template>\n                      </el-table-column>\n                      <el-table-column property=\"guaranteeEndDate\" label=\"时效截止日\" width=\"120\">\n                        <template slot-scope=\"scope\">\n                          <span v-show=\"!scope.row.edit\">{{scope.row.guaranteeEndDate}}</span>\n                          <el-date-picker v-show=\"scope.row.edit\" v-model=\"scope.row.guaranteeEndDate\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\"></el-date-picker>\n                        </template>\n                      </el-table-column>\n                      <el-table-column property=\"reminderDay\" label=\"时效提醒\" width=\"100\">\n                        <template slot-scope=\"scope\">\n                          <span v-show=\"!scope.row.edit\">{{scope.row.reminderDay}}</span>\n                          <el-input size=\"mini\" v-show=\"scope.row.edit\" v-model=\"scope.row.reminderDay\"></el-input>\n                        </template>\n                      </el-table-column>\n                      <el-table-column property=\"operate\" label=\"操作\" width=\"130\">\n                        <template slot-scope=\"scope\">\n                          <el-button @click=\"timeDataEdit(scope.row,scope.$index)\" type=\"text\" size=\"small\">{{scope.row.edit_label}}</el-button>\n                          <el-button type=\"text\" size=\"small\" @click=\"deleteTimeData(scope.row)\">删除</el-button>\n                        </template>\n                      </el-table-column>\n                    </el-table>\n                    <el-button type=\"primary\" @click=\"saveTableData\" style=\"float: right;margin-right: 70px\">保存修改</el-button>\n                    <el-form-item v-if=\"isRegister\" label=\"担保时效起止日\" style=\"margin-top: 50px\">\n                      <el-date-picker v-model=\"newGuaranteeStartDate\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" style=\"width: 30%\"></el-date-picker>\n                      <el-date-picker v-model=\"newGuaranteeEndDate\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" style=\"width: 30%\"></el-date-picker>\n                    </el-form-item>\n                    <el-form-item v-if=\"isRegister\" label=\"担保时效提醒\">\n                      <el-input v-model=\"newReminderDay\" style=\"width: 30%\"></el-input>\n                    </el-form-item>\n                    <el-form-item v-if=\"isRegister\" label=\"登记日期\">\n                      <el-date-picker v-model=\"reRegisterDate\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" style=\"width: 30%\"></el-date-picker>\n                    </el-form-item>\n                    <el-button type=\"primary\" @click=\"reRegister(index1)\" style=\"margin-left: 50px\">重新登记</el-button>\n                    <el-popconfirm v-if=\"isRegister\" title=\"确定提交？\" @confirm=\"registerSubmit(index1)\">\n                      <el-button type=\"primary\" slot=\"reference\" style=\"margin-left: 20px\">提交</el-button>\n                    </el-popconfirm>\n                  </el-dialog>\n                  <!--                  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->\n                  <el-date-picker\n                      v-if=\"allow_edit || !info.isorigin\" v-model=\"info.guaranteeStartDate\"\n                      type=\"date\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" style=\"width: 50%\">\n                  </el-date-picker>\n                  <el-date-picker\n                      v-if=\"allow_edit || !info.isorigin\" v-model=\"info.guaranteeEndDate\"\n                      type=\"date\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" style=\"width: 50%\">\n                  </el-date-picker>\n                </el-form-item>\n                <el-form-item label=\"担保时效提醒:\">\n                  <el-input v-model=\"info.reminderDay\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item v-if=\"!allow_edit && info.isorigin\" label=\"担保人:\">\n                  <el-input v-model=\"info.guarantor\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <div v-if=\"allow_edit || !info.isorigin\">\n                  <el-form-item\n                      v-for=\"(guarantor, index2) in info.guarantorList\"\n                      :label=\"'担保人' + index2\"\n                      :key=\"guarantor.key\">\n                    <el-input v-model=\"guarantor.value\" style=\"width: 45%\"></el-input>\n                    <el-button\n                        @click.prevent=\"removeGuarantor(guarantor,index1)\"\n                        type=\"text\"\n                        style=\"margin-left: 20px\">\n                      删除\n                    </el-button>\n                  </el-form-item>\n                  <el-form-item style=\"margin-left: 35px\">\n                    <el-button type=\"primary\" @click=\"addGuarantor(index1)\">新增担保人</el-button>\n                  </el-form-item>\n                </div>\n              </el-form>\n              <el-form label-width=\"130px\" label-position=\"left\" v-if=\"Boolean(methodNum==='1')\">\n                <!--                <el-form-item label=\"抵押物ID:\">-->\n                <!--                  <el-input v-model=\"info.id\" style=\"width: 45%\" :disabled=\"!allow_edit\"></el-input>-->\n                <!--                </el-form-item>-->\n                <el-form-item label=\"质押物名称:\">\n                  <el-input v-model=\"info.pledgesName\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"质押物类型:\">\n                  <el-select v-if=\"allow_edit || !info.isorigin\" v-model=\"info.pledgesType\" placeholder=\"请选择\" style=\"width: 45%\">\n                    <el-option\n                        v-for=\"item in pledgesType_options\"\n                        :key=\"item.value\"\n                        :label=\"item.label\"\n                        :value=\"item.value\">\n                    </el-option>\n                  </el-select>\n                  <el-input v-if=\"!allow_edit && info.isorigin\" v-model=\"pledgesTypeIndex[info.pledgesType]\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"质押物价值:\">\n                  <el-input v-model=\"info.pledgesValue\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"担保时效起止日期:\">\n                  <el-input v-if=\"!allow_edit && info.isorigin\" v-model=\"info.guaranteeStartDate\" style=\"width: 30%;\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                  <span v-if=\"!allow_edit && info.isorigin\" style=\"color: #DCDFE6;margin: 0 3px 0 3px\">~</span>\n                  <el-input v-if=\"!allow_edit && info.isorigin\" v-model=\"info.guaranteeEndDate\" style=\"width: 30%;\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                  <el-button v-if=\"!allow_edit && info.isorigin\" type=\"text\" size=\"small\" @click=\"reRegister(index1)\">详情</el-button>\n                  <el-dialog\n                      v-if=\"info.isorigin\"\n                      title=\"收货地址\"\n                      :visible.sync=\"info.dialogShow\">\n                    <span>{{info}}</span>\n                  </el-dialog>\n                  <el-date-picker\n                      v-if=\"allow_edit || !info.isorigin\"\n                      v-model=\"info.guaranteeStartDate\"\n                      type=\"date\"\n                      placeholder=\"选择日期\"\n                      format=\"yyyy-MM-dd\"\n                      value-format=\"yyyy-MM-dd\"\n                      style=\"width: 50%\">\n                  </el-date-picker>\n                  <el-date-picker\n                      v-if=\"allow_edit || !info.isorigin\"\n                      v-model=\"info.guaranteeEndDate\"\n                      type=\"date\"\n                      placeholder=\"选择日期\"\n                      format=\"yyyy-MM-dd\"\n                      value-format=\"yyyy-MM-dd\"\n                      style=\"width: 50%\">\n                  </el-date-picker>\n                </el-form-item>\n                <el-form-item label=\"担保时效提醒:\">\n                  <el-input v-model=\"info.reminderDay\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item v-if=\"!allow_edit && info.isorigin\" label=\"担保人:\">\n                  <el-input v-model=\"info.guarantor\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item\n                    v-if=\"allow_edit || !info.isorigin\"\n                    v-for=\"(guarantor, index2) in info.guarantorList\"\n                    :label=\"'担保人' + index2\"\n                    :key=\"guarantor.key\">\n                  <el-input v-model=\"guarantor.value\" style=\"width: 45%\"></el-input>\n                  <el-button\n                      @click.prevent=\"removeGuarantor(guarantor,index1)\"\n                      type=\"text\"\n                      style=\"margin-left: 20px\">\n                    删除\n                  </el-button>\n                </el-form-item>\n                <el-form-item v-if=\"allow_edit || !info.isorigin\" style=\"margin-left: 35px\">\n                  <el-button type=\"primary\" @click=\"addGuarantor(index1)\">新增担保人</el-button>\n                </el-form-item>\n              </el-form>\n              <el-form label-width=\"130px\" label-position=\"left\" v-if=\"Boolean(methodNum==='2')\">\n                <!--                <el-form-item label=\"抵押物ID:\">-->\n                <!--                  <el-input v-model=\"info.id\" style=\"width: 45%\" :disabled=\"!allow_edit\"></el-input>-->\n                <!--                </el-form-item>-->\n                <el-form-item label=\"担保时效起止日期:\">\n                  <el-input v-if=\"!allow_edit && info.isorigin\" v-model=\"info.guaranteeStartDate\" style=\"width: 30%;\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                  <span v-if=\"!allow_edit && info.isorigin\" style=\"color: #DCDFE6;margin: 0 3px 0 3px\">~</span>\n                  <el-input v-if=\"!allow_edit && info.isorigin\" v-model=\"info.guaranteeEndDate\" style=\"width: 30%;\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                  <el-button v-if=\"!allow_edit && info.isorigin\" type=\"text\" size=\"small\" @click=\"reRegister(index1)\">详情</el-button>\n                  <el-dialog\n                      v-if=\"info.isorigin\"\n                      title=\"收货地址\"\n                      :visible.sync=\"info.dialogShow\">\n                    <span>{{info}}</span>\n                  </el-dialog>\n                  <el-date-picker\n                      v-if=\"allow_edit || !info.isorigin\"\n                      v-model=\"info.guaranteeStartDate\"\n                      type=\"date\"\n                      placeholder=\"选择日期\"\n                      format=\"yyyy-MM-dd\"\n                      value-format=\"yyyy-MM-dd\"\n                      style=\"width: 50%\">\n                  </el-date-picker>\n                  <el-date-picker\n                      v-if=\"allow_edit || !info.isorigin\"\n                      v-model=\"info.guaranteeEndDate\"\n                      type=\"date\"\n                      placeholder=\"选择日期\"\n                      format=\"yyyy-MM-dd\"\n                      value-format=\"yyyy-MM-dd\"\n                      style=\"width: 50%\">\n                  </el-date-picker>\n                </el-form-item>\n                <el-form-item label=\"担保时效提醒:\">\n                  <el-input v-model=\"info.reminderDay\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item  v-if=\"!allow_edit && info.isorigin\" label=\"担保人:\">\n                  <el-input v-model=\"info.guarantor\" style=\"width: 45%\" :disabled=\"!allow_edit && info.isorigin\"></el-input>\n                </el-form-item>\n                <el-form-item\n                    v-if=\"allow_edit || !info.isorigin\"\n                    v-for=\"(guarantor, index2) in info.guarantorList\"\n                    :label=\"'担保人' + index2\"\n                    :key=\"guarantor.key\">\n                  <el-input v-model=\"guarantor.value\" style=\"width: 45%\"></el-input>\n                  <el-button\n                      @click.prevent=\"removeGuarantor(guarantor,index1)\"\n                      type=\"text\"\n                      style=\"margin-left: 20px\">\n                    删除\n                  </el-button>\n                </el-form-item>\n                <el-form-item v-if=\"allow_edit || !info.isorigin\" style=\"margin-left: 35px\">\n                  <el-button type=\"primary\" @click=\"addGuarantor(index1)\">新增担保人</el-button>\n                </el-form-item>\n              </el-form>\n            </el-collapse-item>\n          </el-card>\n        </el-collapse>\n        <!--            /////////////////////////////////////////////////////新增卡片///////////////////////////////////////////////////-->\n        <el-form-item v-if=\"!allow_edit && methodNum!=='3'\" style=\"margin-left: 60px\">\n          <el-button v-if=\"!allow_edit && methodNum==='0'\" type=\"primary\" @click=\"addCollatera\">新增抵押物</el-button>\n          <el-button v-if=\"!allow_edit && methodNum==='1'\" type=\"primary\" @click=\"addPledge\">新增质押物</el-button>\n          <el-button v-if=\"!allow_edit && methodNum==='2'\" type=\"primary\" @click=\"addAssurance\">新增保证信息</el-button>\n          <el-popconfirm\n              v-if=\"this.form1[drawerInfo][ListInfoType].length > this.form1[drawerInfo].ListLength\"\n              title=\"确定提交新增的数据？\"\n              @confirm=\"addCollateraOrPledgeSubmit\">\n            <el-button\n                type=\"primary\"\n                slot=\"reference\"\n                style=\"margin-left: 20px\">\n              提交\n            </el-button>\n          </el-popconfirm>\n        </el-form-item>\n      </el-form>\n\n    </el-drawer>\n\n  </div>\n</template>\n\n<script>\nimport {default as api} from \"@/utils/api\";\n\nexport default {\n  name: \"xqSmortgage\",\n  data() {\n    return {\n      activeIndex: '2',\n      form1: {\n        assuranceInfo:{assuranceList:[], guaranteeId:'', guaranteeMethod:'', id:'', iouId:'', iouIdList:[], note:''},\n        collateralInfo:{collateralList:[], guaranteeId:'', guaranteeMethod:'', id:'', iouId:'', iouIdList:[], note:''},\n        guaranteeInfo:{guaranteeId:'', guaranteeMethod:'', id:'', iouId:'', iouIdList:[], note:''},\n        pledgesInfo:{guaranteeId:'', guaranteeMethod:'', id:'', iouId:'', iouIdList:[], note:'', pledgesList:[]}\n      },\n      tableData:[],\n\n      methodNum:'0',\n      drawerInfo:'collateralInfo',\n      ListInfoType:'collateralList',\n      cardLabel: {\n        '0': {label: '抵押物', value_index: 'collateralName'},\n        '1': {label: '质押物', value_index: 'pledgesName'},\n        '2': {label: '', value_index: ''},\n        '3': {label: '', value_index: ''}\n      },\n\n      num2guarantee:{'0':'抵押担保','1':'质押担保','2':'保证担保','3':'综合担保'},\n      collateralTypeIndex:{'0':'建筑物和其它土地附着物','1':'建设用地使用权','2':'海域使用权','3':'生产设备、原材料、半成品、产品','4':'交通运输工具','5':'其它'},\n      landTypeTypeIndex:{'0':'工业用地','1':'商业用地'},\n      pledgesTypeIndex:{'0':'动产','1':'汇票、支票、本票','2':'债券、存款单','3':'仓单、提单','4':'基金份额、股权','5':'知识产权中的财产权','6':'其它'},\n      num2labelInfo:{'0':'collateralInfo','1':'pledgesInfo','2':'assuranceInfo','3':'guaranteeInfo'},\n      num2LitInfo:{'0':'collateralList','1':'pledgesList','2':'assuranceList','3':null},\n\n      drawer_show:false,\n      guaranteeMethodOptions:[\n        {value: '0', label: '抵押担保'},\n        {value: '1', label: '质押担保'},\n        {value: '2', label: '保证担保'},\n        {value: '3', label: '综合担保'}],\n      collateralType_options:[\n        {value:'0', label:'建筑物和其它土地附着物'},\n        {value:'1', label:'建设用地使用权'},\n        {value:'2', label:'海域使用权'},\n        {value:'3', label:'生产设备、原材料、半成品、产品'},\n        {value:'4', label:'交通运输工具'},\n        {value:'5', label:'其它'}],\n      landType_options:[\n        {value:'0', label:'工业用地'},\n        {value:'1', label:'商业用地'}],\n      pledgesType_options:[\n        {value:'0', label:'动产'},\n        {value:'1', label:'汇票、支票、本票'},\n        {value:'2', label:'债券、存款单'},\n        {value:'3', label:'仓单、提单'},\n        {value:'4', label:'基金份额、股权'},\n        {value:'5', label:'知识产权中的财产权'},\n        {value:'6', label:'其它'}],\n      allow_edit:false,\n      activeNames: [],\n      label_info: {'0':\"#抵押物信息\",'1':\"#质押物信息\",'2':\"#保证信息\"},\n\n      timeData:[],\n      isRegister:false,\n      newGuaranteeStartDate:'',\n      newGuaranteeEndDate:'',\n      newReminderDay:'',\n      reRegisterDate:'',\n\n      pickerOptions:[],\n      temp_key:0,\n      collapse_active:['collateralInfo','pledgesInfo','assuranceInfo'],\n      query_iou:this.$route.query.iou,\n      edit_label:'编辑',\n      origin_form_data:'',\n      origin_timeData:'',\n\n    }\n  },\n  created() {\n    var _this = this;\n    api({\n      url: \"/Secure/getSecure\",\n      method: \"get\",\n      params:{\n        iouId:_this.$route.query.iou,\n      }\n    }).then(data => {\n      console.log('获取担保信息')\n      console.log(data);\n      this.origin_form_data = data.data.datas;\n      this.jsondata2form(data.data.datas);\n      this.setTableData();\n    }).catch(err => {\n      console.log(err);\n    })\n  },\n  methods:{\n    jsondata2form(data){\n      //主要是为了在列表中加上key\n      //使用JSON转换能够实现深拷贝\n      this.form1 = JSON.parse(JSON.stringify(data)); //经过测试，这样给data中的数据复制，内部的所有属性都会被监测\n\n      for(let prop in this.form1){\n        if(this.form1[prop]!==null){\n          let iouList_length = 0;\n          for(let key in this.form1[prop]){\n            if(key==='assuranceList' || key==='collateralList' || key==='pledgesList'){\n              if(this.form1[prop][key]===null){\n                this.form1[prop][key] = [];\n              }\n              for(let i=0;i<this.form1[prop][key].length;i++){\n                //*************************重点注意，a[new_prop]=b这种赋值方式，会使得新加入的属性不被vue监测*********************//\n                // this.form1[prop][key][i]['key'] = this.getTempKey();\n                // this.form1[prop][key][i]['isorigin'] = true;\n                this.$set(this.form1[prop][key][i],'key',this.getTempKey());\n                this.$set(this.form1[prop][key][i],'isorigin',true);\n                this.$set(this.form1[prop][key][i],'dialogShow',false);\n\n                let guarantors = this.form1[prop][key][i].guarantor.split(\",\");\n                let guarantorList = [];\n                this.$set(this.form1[prop][key][i],'guarantorList',guarantorList)\n                console.log('guarantos:'+guarantors)\n                for(let j=0;j<guarantors.length;j++){\n                  this.form1[prop][key][i].guarantorList.push({key:this.getTempKey(),value:guarantors[j]})\n                }\n                // this.$set(this.form1[prop][key][i],'guarantorList',guarantorList)\n                // this.form1[prop][key][i]['guarantorList'] = guarantorList;\n              }\n              this.$set(this.form1[prop],'ListLength',this.form1[prop][key].length)\n              // this.form1[prop]['ListLength'] = this.form1[prop][key].length;\n            }\n            else if(key==='iouIdList'){\n              if(this.form1[prop][key]===null){\n                this.form1[prop][key] = [];\n              }\n              //当借据号只有一个时，传来的数据可能不是List，而是字符串\n              let iouList = [];\n              if(this.form1[prop][key] instanceof Object){\n                iouList_length = this.form1[prop][key].length;\n                for(let i=0;i<iouList_length;i++){\n                  let iouValue = this.form1[prop][key][i];\n                  iouList.push({key:this.getTempKey(),value:iouValue,isorigin:true})\n                }\n              }\n              else if(this.form1[prop][key] instanceof String){\n                let iouValue = this.form1[prop][key];\n                iouList.push({key:this.getTempKey(),value:iouValue,isorigin:true})\n              }\n              this.form1[prop][key] = iouList;\n            }\n          }\n          this.$set(this.form1[prop],'iouList_length',iouList_length)\n          // this.form1[prop]['iouList_length'] = this.form1[prop].iouIdList.length;\n        }\n      }\n      console.log(this.form1)\n    },\n    setTableData(){\n      this.tableData = []\n      for(let key in this.form1){\n        if(this.form1[key]!==null && this.form1[key].guaranteeId!==null){\n          let data = {};\n          data['id'] = this.form1[key].guaranteeId;\n          data['guaranteeMethod'] = this.num2guarantee[this.form1[key].guaranteeMethod];\n          data['guaranteeMethodNum'] = this.form1[key].guaranteeMethod;\n          let iou = '';\n          for(let i=0;i<this.form1[key].iouIdList.length && i<1;i++){\n            iou+=String(this.form1[key].iouIdList[i].value)+'<br/>'\n          }\n          if(this.form1[key].iouIdList.length>1){\n            iou+='...'\n          }\n          data['iouList'] = iou;\n          data['state']='无';\n          data['note'] = this.form1[key].note;\n          this.tableData.push(data);\n        }\n      }\n    },\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    guaranteeDetail(row){\n      this.drawer_show=true;\n      this.methodNum = row.guaranteeMethodNum;\n      this.drawerInfo = this.num2labelInfo[row.guaranteeMethodNum];\n      this.ListInfoType = this.num2LitInfo[row.guaranteeMethodNum];\n    },\n    getTempKey(){\n      this.temp_key++;\n      return this.temp_key;\n    },\n    edit(){\n      //如果是允许编辑，即是点击放弃修改\n      if(this.allow_edit){\n        this.allow_edit=false;\n        this.jsondata2form(this.origin_form_data);\n        this.edit_label='编辑';\n      }\n      else{\n        //在已存在新增借据号或者新增抵押物状态时，不允许编辑\n        if(this.form1[this.drawerInfo].iouIdList.length > this.form1[this.drawerInfo].iouList_length ||\n            (this.methodNum!=='3' && this.methodNum!=='2' &&\n                this.form1[this.drawerInfo][this.ListInfoType].length > this.form1[this.drawerInfo].ListLength)){\n          alert(\"新增编辑中，不允许编辑\");\n        }\n        else{\n          this.allow_edit=true;\n          this.edit_label='放弃修改';\n        }\n      }\n    },\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    timeDetail(index){\n      this.form1[this.drawerInfo][this.ListInfoType][index].dialogShow = true;\n      api({\n        url: \"/Secure/getTimelinessHistory\",\n        method: \"post\",\n        data:{\n          guaranteeTimeId:this.form1[this.drawerInfo][this.ListInfoType][index].id,\n          guaranteeMethod:this.methodNum\n        }\n      }).then(data => {\n        console.log(data);\n        this.origin_timeData = data.data.datas;\n        this.jsondata2timeData(data.data.datas)\n\n      }).catch(err => {\n        console.log(err);\n      })\n    },\n    jsondata2timeData(data){\n      this.timeData = JSON.parse(JSON.stringify(data));\n      for(let i=0;i<this.timeData.length;i++){\n        this.$set(this.timeData[i],'edit',false);\n        this.$set(this.timeData[i],'edit_label',\"编辑\");\n      }\n    },\n    timeDataEdit(row,index){\n      if(!row.edit){\n        row.edit=true;\n        row.edit_label = \"放弃修改\";\n      }\n      else{\n        row.edit = false;\n        row.edit_label=\"编辑\";\n        row.reRegistrationDate = this.origin_timeData[index].reRegistrationDate;\n        row.guaranteeStartDate = this.origin_timeData[index].guaranteeStartDate;\n        row.guaranteeEndDate = this.origin_timeData[index].guaranteeEndDate;\n        row.reminderDay = this.origin_timeData[index].reminderDay;\n      }\n    },\n    reRegister(index){\n      this.isRegister = true;\n    },\n    handleClose(done){\n      if(this.isRegister){\n        this.$confirm('确认放弃修改并关闭？')\n            .then(_ => {\n              this.isRegister=false;\n              this.newGuaranteeStartDate ='';\n              this.newGuaranteeEndDate ='';\n              this.newReminderDay ='';\n              this.reRegisterDate = '';\n              done();\n            })\n            .catch(_ => {});\n      }\n      else{\n        done();\n      }\n    },\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    registerSubmit(index){\n      api({\n        url: \"/Secure/updateTimelinessHistory\",\n        method: \"post\",\n        data:{\n          guaranteeTimeId:this.form1[this.drawerInfo][this.ListInfoType][index].id,\n          guaranteeMethod:this.methodNum,\n          guaranteeStartDate:this.newGuaranteeStartDate,\n          guaranteeEndDate:this.newGuaranteeEndDate,\n          reminderDay:this.newReminderDay,\n          reRegistrationDate:this.reRegisterDate\n        }\n      }).then(data => {\n        // console.log(data);\n        // this.timeData = data.data.datas;\n        location.reload();\n      }).catch(err => {\n        console.log(err);\n      })\n    },\n    saveTableData(){\n      let send_data = [];\n      for(let i=0;i<this.timeData.length;i++){\n        if(this.timeData[i].edit){\n          send_data.push({\n            id:this.timeData[i].id,\n            guaranteeTimeId:this.timeData[i].guaranteeTimeId,\n            guaranteeStartDate:this.timeData[i].guaranteeStartDate,\n            guaranteeEndDate:this.timeData[i].guaranteeEndDate,\n            reminderDay:this.timeData[i].reminderDay,\n            reRegistrationDate:this.timeData[i].reRegistrationDate\n          })\n        }\n      }\n      // console.log(send_data);\n      if(send_data.length===0){\n        alert(\"未发现可保存的条目\")\n      }\n      else{\n        api({\n          url: \"/Secure/modifyTimelinessHistory\",\n          method: \"post\",\n          data:send_data\n        }).then(data => {\n          // console.log(data);\n          // this.timeData = data.data.datas;\n          location.reload();\n        }).catch(err => {\n          console.log(err);\n        })\n      }\n    },\n    deleteTimeData(row){\n      this.$confirm('确认删除？')\n          .then(_ => {\n            api({\n              url: \"/Secure/deleteTimelinessHistory\",\n              method: \"post\",\n              data:[row.id]\n            }).then(data => {\n              // console.log(data);\n              // this.timeData = data.data.datas;\n              location.reload();\n            }).catch(err => {\n              console.log(err);\n            })\n          })\n          .catch(_ => {});\n    },\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    submit(){\n      let send_data = {};\n      // let typeIndex = {'0':'collateralInfo','1':'pledgesInfo','2':'assuranceInfo','3':'guaranteeInfo'};\n      // let typeIndex2 = {'0':'collateralList','1':'pledgesList','2':'assuranceList'};\n      //\n      // let guaranteeMethod = typeIndex[this.methodNum];\n      send_data[this.drawerInfo] = {};\n      send_data[this.drawerInfo]['guaranteeId'] = this.form1[this.drawerInfo].guaranteeId\n      send_data[this.drawerInfo]['guaranteeMethod'] = this.form1[this.drawerInfo].guaranteeMethod\n      send_data[this.drawerInfo]['note'] = this.form1[this.drawerInfo].note;\n      send_data[this.drawerInfo]['iouIdList'] = this.origin_form_data[this.drawerInfo].iouIdList\n\n      if(this.form1.guaranteeMethod !== '3'){\n        send_data[this.drawerInfo][this.ListInfoType] = [];\n        for(let i=0;i<this.form1[this.drawerInfo][this.ListInfoType].length;i++){\n          let temp_dict = {};\n          for(let key in this.form1[this.drawerInfo][this.ListInfoType][i]){\n            if(key === 'guarantorList'){\n              let guarantors='';\n              let j;\n              for(j=0;j<this.form1[this.drawerInfo][this.ListInfoType][i][key].length;j++){\n                if(j===0){\n                  guarantors+=String(this.form1[this.drawerInfo][this.ListInfoType][i][key][j].value);\n                }\n                else{\n                  guarantors+=\",\"+String(this.form1[this.drawerInfo][this.ListInfoType][i][key][j].value)\n                }\n              }\n              temp_dict['guarantor'] = guarantors;\n            }\n            else if(key !== 'key' && key !== 'isorigin' && key!== 'dialogShow'){\n              temp_dict[key] = this.form1[this.drawerInfo][this.ListInfoType][i][key];\n            }\n          }\n          send_data[this.drawerInfo][this.ListInfoType].push(temp_dict);\n        }\n      }\n      // console.log(send_data);\n      api({\n        url: \"/Secure/updateSecure\",\n        method: \"post\",\n        data:send_data\n      }).then(data => {\n        // console.log(data);\n        // this.$router.replace('/creditInfo/creditFinfo/creditMenu');\n        location.reload();\n      }).catch(err => {\n        console.log(err);\n      })\n    },\n    deleteAll(row){\n      api({\n        url: \"/Secure/deleteSecureByGuaranteeId\",\n        method: \"post\",\n        data:{'guaranteeId':row.id,'guaranteeMethod':row.guaranteeMethodNum}\n      }).then(data => {\n        // console.log(data);\n        // this.$router.replace('/creditInfo/creditFinfo/creditMenu');\n        location.reload();\n      }).catch(err => {\n        console.log(err);\n      })\n    },\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    //担保人\n    addGuarantor(index){\n      this.form1[this.drawerInfo][this.ListInfoType][index].guarantorList.push({key:this.getTempKey(),value:''});\n    },\n    removeGuarantor(guarantor,index){\n      var i = this.form1[this.drawerInfo][this.ListInfoType][index].guarantorList.indexOf(guarantor);\n      if(i!==-1){\n        this.form1[this.drawerInfo][this.ListInfoType][index].guarantorList.splice(i,1);\n      }\n    },\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    //借据对象\n    addIou(){\n      this.form1[this.drawerInfo].iouIdList.push({key:this.getTempKey(),value:'',isorigin:false})\n    },\n    removeIou(iou){\n      //如果删除的是原有的借据，会调用删除接口，否则只是在界面上删除\n      if(iou.isorigin){\n        api({\n          url: \"/Secure/deleteSecureByIouId\",\n          method: \"post\",\n          data:{guaranteeId:this.form1[this.drawerInfo].guaranteeId,iouId:iou.value}\n        }).then(data => {\n          // console.log(data);\n          // this.$router.replace('/creditInfo/creditFinfo/creditMenu');\n          location.reload();\n        }).catch(err => {\n          console.log(err);\n        })\n      }\n      else{\n        var i = this.form1[this.drawerInfo].iouIdList.indexOf(iou);\n        if (i !== -1) {\n          this.form1[this.drawerInfo].iouIdList.splice(i, 1);\n        }\n      }\n    },\n    addIouSubmit(){\n      //提交新增的借据\n      let send_data = [];\n      for(let i=0;i<this.form1[this.drawerInfo].iouIdList.length;i++){\n        if(!this.form1[this.drawerInfo].iouIdList[i].isorigin){\n          send_data.push({\n            iouId:this.form1[this.drawerInfo].iouIdList[i].value,\n            guaranteeId:this.form1[this.drawerInfo].guaranteeId,\n            guaranteeMethod:this.form1[this.drawerInfo].guaranteeMethod,\n            note:this.form1[this.drawerInfo].note,\n            deleteFlag:0\n          })\n        }\n      }\n      api({\n        url: \"/Secure/addIouId\",\n        method: \"post\",\n        data:send_data\n      }).then(data => {\n        // console.log(data);\n        // this.$router.replace('/creditInfo/creditFinfo/creditMenu');\n        location.reload();\n      }).catch(err => {\n        console.log(err);\n      })\n\n    },\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    //抵押物\n    addCollatera(){\n      this.form1.collateralInfo.collateralList.push({key:this.getTempKey(),collateralName:'',collateralType:'',collateralLocation:'',landArea:'',landType:'', propertySize:'',appraisedValue:'',registrationAmount:'',guarantorList:[{key:this.getTempKey(),value:''}],guaranteeStartDate:'', guaranteeEndDate:'',reminderDay:'',isorigin:false})\n      this.activeNames=[this.form1.collateralInfo.collateralList.length-1];\n    },\n    //质押物\n    addPledge(){\n      this.form1.pledgesInfo.pledgesList.push({key:this.getTempKey(),pledgesName:'',pledgesValue:'',pledgesType:'',guarantorList:[{key:this.getTempKey(),value:''}],guaranteeStartDate:'', guaranteeEndDate:'',reminderDay:'',isorigin:false})\n      this.activeNames=[this.form1.pledgesInfo.pledgesList.length-1];\n    },\n\n    addAssurance(){\n      this.form1.assuranceInfo.assuranceList.push({key:this.getTempKey(),guarantorList:[{key:this.getTempKey(),value:''}],guaranteeStartDate:'', guaranteeEndDate:'',reminderDay:'',isorigin:false})\n      this.activeNames=[this.form1.assuranceInfo.assuranceList.length-1];\n    },\n    addCollateraOrPledgeSubmit(){\n      if(this.methodNum==='0'){\n        let send_data = [];\n        for(let i=0;i<this.form1.collateralInfo.collateralList.length;i++){\n          if(!this.form1.collateralInfo.collateralList[i].isorigin){\n            let guarantors = '';\n            for(let j=0;j<this.form1.collateralInfo.collateralList[i].guarantorList.length;j++){\n              if(j===0){\n                guarantors += String(this.form1.collateralInfo.collateralList[i].guarantorList[j].value)\n              }\n              else{\n                guarantors += \",\" + String(this.form1.collateralInfo.collateralList[i].guarantorList[j].value)\n              }\n            }\n            send_data.push({\n              guaranteeId:this.form1.collateralInfo.guaranteeId,\n              collateralName:this.form1.collateralInfo.collateralList[i].collateralName,\n              collateralLocation:this.form1.collateralInfo.collateralList[i].collateralLocation,\n              landArea:this.form1.collateralInfo.collateralList[i].landArea,\n              propertySize:this.form1.collateralInfo.collateralList[i].propertySize,\n              appraisedValue:this.form1.collateralInfo.collateralList[i].appraisedValue,\n              registrationAmount:this.form1.collateralInfo.collateralList[i].registrationAmount,\n              collateralType:this.form1.collateralInfo.collateralList[i].collateralType,\n              landType:this.form1.collateralInfo.collateralList[i].landType,\n              reminderDay:this.form1.collateralInfo.collateralList[i].reminderDay,\n              guaranteeStartDate:this.form1.collateralInfo.collateralList[i].guaranteeStartDate,\n              guaranteeEndDate:this.form1.collateralInfo.collateralList[i].guaranteeEndDate,\n              guarantor:guarantors,\n            })\n          }\n        }\n        api({\n          url: \"/Secure/addCollateral\",\n          method: \"post\",\n          data:send_data\n        }).then(data => {\n          // console.log(data);\n          // this.$router.replace('/creditInfo/creditFinfo/creditMenu');\n          location.reload();\n        }).catch(err => {\n          console.log(err);\n        })\n      }\n      else if(this.methodNum==='1'){\n        let send_data = [];\n        for(let i=0;i<this.form1.pledgesInfo.pledgesList.length;i++){\n          if(!this.form1.pledgesInfo.pledgesList[i].isorigin){\n            let guarantors = '';\n            for(let j=0;j<this.form1.pledgesInfo.pledgesList[i].guarantorList.length;j++){\n              if(j===0){\n                guarantors += String(this.form1.pledgesInfo.pledgesList[i].guarantorList[j].value)\n              }\n              else{\n                guarantors += \",\" + String(this.form1.pledgesInfo.pledgesList[i].guarantorList[j].value)\n              }\n            }\n            send_data.push({\n              guaranteeId:this.form1.pledgesInfo.guaranteeId,\n              pledgesName:this.form1.pledgesInfo.pledgesList[i].pledgesName,\n              pledgesValue:this.form1.pledgesInfo.pledgesList[i].pledgesValue,\n              pledgesType:this.form1.pledgesInfo.pledgesList[i].pledgesType,\n              reminderDay:this.form1.pledgesInfo.pledgesList[i].reminderDay,\n              guaranteeStartDate:this.form1.pledgesInfo.pledgesList[i].guaranteeStartDate,\n              guaranteeEndDate:this.form1.pledgesInfo.pledgesList[i].guaranteeEndDate,\n              guarantor:guarantors,\n            })\n          }\n        }\n        api({\n          url: \"/Secure/addPledges\",\n          method: \"post\",\n          data:send_data\n        }).then(data => {\n          // console.log(data);\n          // this.$router.replace('/creditInfo/creditFinfo/creditMenu');\n          location.reload();\n        }).catch(err => {\n          console.log(err);\n        })\n      }\n      else if(this.methodNum==='2') {\n        let send_data = [];\n        for (let i = 0; i < this.form1.assuranceInfo.assuranceList.length; i++) {\n          if (!this.form1.assuranceInfo.assuranceList[i].isorigin) {\n            let guarantors = '';\n            for (let j = 0; j < this.form1.assuranceInfo.assuranceList[i].guarantorList.length; j++) {\n              if (j === 0) {\n                guarantors += String(this.form1.assuranceInfo.assuranceList[i].guarantorList[j].value)\n              } else {\n                guarantors += \",\" + String(this.form1.assuranceInfo.assuranceList[i].guarantorList[j].value)\n              }\n            }\n            send_data.push({\n              guaranteeId: this.form1.assuranceInfo.guaranteeId,\n              reminderDay: this.form1.assuranceInfo.assuranceList[i].reminderDay,\n              guaranteeStartDate: this.form1.assuranceInfo.assuranceList[i].guaranteeStartDate,\n              guaranteeEndDate: this.form1.assuranceInfo.assuranceList[i].guaranteeEndDate,\n              guarantor: guarantors,\n            })\n          }\n        }\n        api({\n          url: \"/Secure/addAssurance\",\n          method: \"post\",\n          data: send_data\n        }).then(data => {\n          // console.log(data);\n          // this.$router.replace('/creditInfo/creditFinfo/creditMenu');\n          location.reload();\n        }).catch(err => {\n          console.log(err);\n        })\n      }\n    },\n    removeInfo(info){\n      if(info.isorigin){\n        let url = {'0':\"/Secure/deleteCollateral\",'1':\"/Secure/deletePledges\",'2':\"/Secure/deleteAssurance\"}\n        api({\n          url: url[this.methodNum],\n          method: \"post\",\n          data:[info.id]\n        }).then(data => {\n          // console.log(data);\n          // this.$router.replace('/creditInfo/creditFinfo/creditMenu');\n          location.reload();\n        }).catch(err => {\n          console.log(err);\n        })\n      }\n      else{\n        var i = this.form1[this.drawerInfo][this.ListInfoType].indexOf(info);\n        if(i !== -1){\n          this.form1[this.drawerInfo][this.ListInfoType].splice(i, 1);\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.el-icon-s-home{\n  font-size: 200%;\n}\n.el-breadcrumb1{\n  font-size: 15px;\n  margin-top: 10px;\n}\n.el-row1{\n  margin-top: 20px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04);\n  border-radius: 4px;\n  text-align: end;\n  height: 50px;\n  line-height: 50px;\n  padding-right: 20px;\n}\n\n.innerBar{\n  /*box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04);*/\n  text-align: end;\n  border-radius: 4px;\n  margin-top: 0px;\n}\n\n.el-table{\n  flex: 0 1 auto;\n}\n.table_container{\n  margin-top: 40px;\n  display: flex;\n  justify-content: center;\n}\n/deep/ .el-form-item{\n  margin-bottom: 10px;\n  margin-left: 35px;\n}\n\n.card_head_form >>> .el-form-item{\n  margin: 0 0 0 0;\n}\n.card_head_form >>> .el-input__inner{\n  padding: 0;\n}\n\n/deep/ .el-drawer{\n  /*padding-top: 80px;*/\n  /*background-color: #55efc4;*/\n  overflow: auto;\n\n}\n/deep/ .el-drawer__header {\n  align-items: center;\n  color: #72767b;\n  display: flex;\n  margin-bottom: 0px;\n  padding: 20px 20px 0;\n}\n\n/deep/ .el-input__inner{\n  /*background-color: #55efc4;*/\n  height: 30px;\n  /*border: none;*/\n}\n\n/deep/ .el-input__inner:disabled{\n  background-color: white;\n  height: 30px;\n  border: none;\n  cursor: text;\n}\n\n/deep/ .el-form-item__content{\n  line-height: 30px;\n}\n\n/deep/ .el-form-item__label{\n  line-height: 30px;\n}\n\n.card_list{\n\n}\n/*.el-collapse-item{*/\n/*  float: right;*/\n/*}*/\n\n.el-collapse >>> .el-collapse-item__header{\n  height: 20px;\n  line-height: 20px;\n  border-bottom: 0px;\n  font-size: 10px;\n  /*margin-left: 20px;*/\n  margin-top: 2px;\n  display: flex;\n  justify-content: center;\n  /*color: #409eff;*/\n  /*font-weight: 300;*/\n}\n\n.inner_divider{\n  margin: 0 0 0 0;\n}\n\n.inner_divider_top{\n  margin: 20px 0 20px 0;\n}\n\n.el-collapse >>> .el-collapse-item__arrow{\n  margin: 0 8px 0 5px;\n}\n\n/deep/ .el-card{\n  margin:10px 40px 10px 40px;\n}\n\n/deep/ .el-card__body{\n  padding: 10px 10px 0 10px;\n}\n\n</style>\n"]}]}