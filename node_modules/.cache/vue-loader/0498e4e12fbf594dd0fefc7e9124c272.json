{"remainingRequest":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\src\\views\\creditInfo\\assetPackage\\assetPackInfo.vue?vue&type=style&index=0&id=98f05d08&scoped=true&lang=css&","dependencies":[{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\src\\views\\creditInfo\\assetPackage\\assetPackInfo.vue","mtime":1616310169260},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\css-loader\\dist\\cjs.js","mtime":1614934889000},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614934889000},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZWwtaWNvbi1zLWhvbWV7CiAgZm9udC1zaXplOiAyMDAlOwp9Ci5lbC1icmVhZGNydW1iMXsKICBmb250LXNpemU6IDE1cHg7CiAgbWFyZ2luLXRvcDogMTBweDsKfQouZWwtcm93MXsKICBtYXJnaW4tdG9wOiAzMHB4OwogIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIC4xMiksIDAgMCA2cHggcmdiYSgwLCAwLCAwLCAuMDQpOwogIGJvcmRlci1yYWRpdXM6IDRweDsKICB0ZXh0LWFsaWduOiBlbmQ7CiAgaGVpZ2h0OiA1MHB4OwogIGxpbmUtaGVpZ2h0OiA1MHB4OwogIHBhZGRpbmctcmlnaHQ6IDIwcHg7Cn0KLmVsLXJvdzIgewogIG1hcmdpbi10b3A6IDMwcHg7CiAgdGV4dC1hbGlnbjogZW5kOwogIGhlaWdodDogNDBweDsKICBsaW5lLWhlaWdodDogNDBweDsKfQouZWwtcm93MywgLmVsLXJvdzQsIC5lbC1yb3c1ewogIHRleHQtYWxpZ246IGVuZDsKICBoZWlnaHQ6IDQwcHg7CiAgbGluZS1oZWlnaHQ6IDQwcHg7Cn0KLmdyaWQtY29udGVudDF7CiAgYmFja2dyb3VuZC1jb2xvcjogI0RDREZFNjsKfQouZWwtdGFibGV7CiAgbWFyZ2luLXRvcDogMjBweDsKfQo="},{"version":3,"sources":["assetPackInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"assetPackInfo.vue","sourceRoot":"src/views/creditInfo/assetPackage","sourcesContent":["<template>\n  <div>\n    <el-breadcrumb separator=\"/\">\n      <el-breadcrumb-item to=\"/Main\"><i class=\"el-icon-s-home\"></i></el-breadcrumb-item>\n      <el-breadcrumb-item class=\"el-breadcrumb1\">债权信息</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"el-breadcrumb1\">资产包</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"el-breadcrumb1\">资产包详情</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <el-row class=\"el-row1\">\n      <el-col :span=\"24\">\n        <div class=\"grid-content\">\n          <el-button @click=\"addAsset\">新增资产包</el-button>\n          <el-button @click=\"edit\">{{edit_label}}</el-button>\n          <el-popconfirm\n              title=\"确定提交？\"\n              style=\"margin-right: 40px;margin-left: 20px\"\n              @confirm=\"submit\"\n              v-if=\"allow_edit\">\n            <el-button type=\"primary\" slot=\"reference\">提交</el-button>\n          </el-popconfirm>\n        </div>\n      </el-col>\n    </el-row>\n\n    <el-form ref=\"form1\" :model=\"form1\">\n      <el-form-item>\n        <el-row class=\"el-row2\">\n          <el-col :span=\"2\"><div class=\"grid-content1\">资产包ID：</div></el-col>\n          <el-col :span=\"7\"><div class=\"grid-content2\"><el-input v-model=\"form1.assetPackageId\" :disabled=\"true\"></el-input></div></el-col>\n          <el-col :span=\"3\"><div class=\"grid-content1\" style=\"margin-left: 20px\">债权数量：</div></el-col>\n          <el-col :span=\"7\"><div class=\"grid-content2\"><el-input v-model=\"form1.creditNum\" :disabled=\"!allow_edit\"></el-input></div></el-col>\n        </el-row>\n      </el-form-item>\n      <el-form-item>\n        <el-row class=\"el-row3\">\n          <el-col :span=\"2\"><div class=\"grid-content1\">债权总成本：</div></el-col>\n          <el-col :span=\"7\"><div class=\"grid-content2\" style=\"text-align: start\">\n            <el-input v-model=\"form1.costDebtTotal\" :disabled=\"!allow_edit\"></el-input>\n          </div></el-col>\n          <el-col :span=\"3\"><div class=\"grid-content1\" style=\"margin-left: 20px\">回收款合计：</div></el-col>\n          <el-col :span=\"7\"><div class=\"grid-content2\"><el-input v-model=\"form1.recycleTotal\" :disabled=\"!allow_edit\"></el-input></div></el-col>\n        </el-row>\n      </el-form-item>\n      <el-form-item>\n        <el-row class=\"el-row4\">\n          <el-col :span=\"2\"><div class=\"grid-content1\">债权人：</div></el-col>\n          <el-col :span=\"7\"><div class=\"grid-content3\" style=\"text-align: start\">\n            <el-select v-model=\"form1.creditor\" clearable filterable :disabled=\"!allow_edit\" placeholder=\"请选择\">\n              <el-option\n                  v-for=\"item in options\"\n                  :key=\"item.value\"\n                  :label=\"item.label\"\n                  :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </div></el-col>\n          <el-col :span=\"3\"><div class=\"grid-content1\" style=\"margin-left: 20px\">原债权人：</div></el-col>\n          <el-col :span=\"7\"><div class=\"grid-content3\" style=\"text-align: start\">\n            <el-select v-model=\"form1.originalCreditor\" clearable filterable :disabled=\"!allow_edit\" placeholder=\"请选择\">\n              <el-option\n                  v-for=\"item in options1\"\n                  :key=\"item.value\"\n                  :label=\"item.label\"\n                  :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </div></el-col>\n        </el-row>\n      </el-form-item>\n      <el-form-item>\n        <el-row class=\"el-row5\">\n          <el-col :span=\"2\"><div class=\"grid-content1\">对价支付人：</div></el-col>\n          <el-col :span=\"7\"><div class=\"grid-content2\"><el-input v-model=\"form1.considerationPayer\" :disabled=\"!allow_edit\"></el-input></div></el-col>\n          <el-col :span=\"3\"><div class=\"grid-content1\" style=\"margin-left: 20px\">备注：</div></el-col>\n          <el-col :span=\"7\"><div class=\"grid-content2\">\n            <el-input v-model=\"form1.remarks\"\n                      :disabled=\"!allow_edit\" type=\"textarea\" autosize>\n          </el-input></div></el-col>\n        </el-row>\n      </el-form-item>\n      <el-divider></el-divider>\n      <div>\n        <span style=\"font-family: 黑体;font-size: 18px\">受让前催收公告</span>\n        <div v-for=\"(inform,index) in form1.inform\"\n             :key=\"inform.key\" style=\"margin-top: 20px\">\n          <el-row :gutter=\"20\">\n            <el-col :span=\"9\" :offset=\"1\">\n              <el-form-item label=\"催告方式：\" class=\"form_item\">\n<!--                <el-select v-model=\"inform.method\">-->\n<!--                  <el-option label=\"省级媒体\" value=\"省级媒体\"></el-option>-->\n<!--                  <el-option label=\"直接送达\" value=\"直接送达\"></el-option>-->\n<!--                  <el-option label=\"邮寄送达\" value=\"邮寄送达\"></el-option>-->\n<!--                  <el-option label=\"本地媒体\" value=\"本地媒体\"></el-option>-->\n<!--                </el-select>-->\n                <el-select v-model=\"inform.method\" clearable filterable :disabled=\"!allow_edit\" placeholder=\"请选择\">\n                  <el-option\n                      v-for=\"item in options2\"\n                      :key=\"item.value\"\n                      :label=\"item.label\"\n                      :value=\"item.value\">\n                  </el-option>\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"9\">\n              <el-form-item label=\"催收公告日:\" class=\"form_item\">\n                <el-date-picker\n                    v-model=\"inform.date\"\n                    type=\"date\"\n                    :disabled=\"!allow_edit\"\n                    placeholder=\"选择日期\"\n                    style=\"width: 70%\">\n                </el-date-picker>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"2\">\n              <el-button @click.prevent=\"removeInform(inform)\" type=\"danger\" v-show=\"allow_edit\">删除</el-button>\n            </el-col>\n          </el-row>\n        </div>\n        <el-form-item style=\"margin-left: 30%\">\n          <el-button type=\"primary\" @click=\"addInform\" :disabled=\"!allow_edit\">新增催收公告</el-button>\n          <el-button @click=\"resetInform\" v-show=\"allow_edit\">重置</el-button>\n        </el-form-item>\n      </div>\n\n      <el-divider></el-divider>\n      <span style=\"font-family: 黑体; font-weight: bold;font-size: 20px\">还款明细</span>\n      <el-table :data=\"tableData\" border height=\"300\" style=\"width: 100%\" class=\"el-table\">\n        <el-table-column prop=\"id\" label=\"资产包ID\" width=\"250\"></el-table-column>\n        <el-table-column prop=\"iouId\" label=\"借据号\" width=\"250\"></el-table-column>\n        <el-table-column prop=\"obligor\" label=\"债务人\" width=\"150\"></el-table-column>\n        <el-table-column prop=\"tradingDayPrincipal\" label=\"交易日本金\" width=\"150\"></el-table-column>\n        <el-table-column prop=\"tradingDayInterest\" label=\"交易日利息\" width=\"150\"></el-table-column>\n        <el-table-column prop=\"otherFees\" label=\"其他费用\" width=\"150\"></el-table-column>\n        <el-table-column prop=\"creditTotalFee\" label=\"债权总额\" width=\"150\"></el-table-column>\n        <el-table-column prop=\"remarks\" label=\"备注\" width=\"300\"></el-table-column>\n        <el-table-column prop=\"operate\" label=\"操作\">\n          删除\n        </el-table-column>\n      </el-table>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport {default as api} from \"@/utils/api\";\n\nexport default {\n  name: \"assetPackInfo\",\n  data(){\n    return{\n      form1:{\n        assetPackageId:'',\n        creditNum:'',\n        costDebtTotal:'',\n        recycleTotal:'',\n        creditor:'',\n        originalCreditor:'',\n        considerationPayer:'',\n        remarks:'',\n        inform:[{key:'', method:'', date:''}]\n      },\n      allow_edit:false,\n      edit_label:'编辑',\n      origin_form_data:'',\n      options: [\n        {value: '天惠投资', label: '天惠投资'},\n        {value: '天晟投资', label: '天晟投资'},\n        {value: '天工惠农小贷', label: '天工惠农小贷'},\n        {value: '银润小贷', label: '银润小贷'},\n        {value: '阳光企业', label: '阳光企业'}],\n      options1:[\n        {value: '丹阳工行', label: '丹阳工行'}, {value: '丹阳农行', label: '丹阳农行'},\n        {value: '丹阳中行', label: '丹阳中行'}, {value: '丹阳建行', label: '丹阳建行'},\n        {value: '丹阳交行', label: '丹阳交行'}, {value: '丹阳农发行', label: '丹阳农发行'},\n        {value: '丹阳农商行', label: '丹阳农商行'}, {value: '丹阳江苏', label: '丹阳江苏'},\n        {value: '丹阳保得', label: '丹阳保得'}, {value: '丹阳华夏', label: '丹阳华夏'},\n        {value: '丹阳民生', label: '丹阳民生'}, {value: '丹阳浦发', label: '丹阳浦发'},\n        {value: '丹阳招商', label: '丹阳招商'}, {value: '丹阳中信', label: '丹阳中信'},\n        {value: '丹阳兴业', label: '丹阳兴业'}, {value: '丹阳南京', label: '丹阳南京'},\n        {value: '丹阳紫金农商', label: '丹阳紫金农商'}, {value: '丹阳广发', label: '丹阳广发'},\n        {value: '丹阳储蓄', label: '丹阳储蓄'}],\n      options2: [\n        {value: '省级媒体', label: '省级媒体'},\n        {value: '直接送达', label: '直接送达'},\n        {value: '邮寄送达', label: '邮寄送达'},\n        {value: '本地媒体', label: '本地媒体'}],\n      tableData: [],\n      temp_informID: 0,\n      inform_length:''\n    }\n  },\n  created() {\n    var _this = this;\n    api({\n      url: \"assetPackage/getAssetPackage\",\n      method: \"get\",\n      params:{\n        id:_this.$route.query.assetPackageId,\n      }\n    }).then(data => {\n      console.log(data)\n      _this.origin_form_data = data.data.datas;\n      this.jsondata2form(_this.origin_form_data);\n      console.log(this.form1.inform.length);\n      this.temp_informID=_this.form1.inform.length-1;\n      console.log(_this.temp_informID)\n    }).catch(err => {\n      console.log(err);\n    })\n  },\n  methods:{\n\n    jsondata2form(data){\n      let informList1 = []\n      for(let i=0;i<data.urgingNoticeDaoList.length;i++){\n        informList1.push({key:i, method:data.urgingNoticeDaoList[i].urgingType,\n          date:data.urgingNoticeDaoList[i].urgingNoticeDate});\n      }\n      this.form1.assetPackageId = data.id;\n      // this.form1.creditNum = data.creditNum;\n      this.form1.recycleTotal = data.recycleTotal;\n      this.form1.creditor = data.creditor;\n      this.form1.originalCreditor = data.originalCreditor;\n      this.form1.costDebtTotal = data.costDebtTotal;\n      this.form1.remarks = data.remarks;\n      this.form1.inform = informList1;\n    },\n    addAsset(){\n      this.$router.replace('/creditInfo/assetPackage/assetPackAdd')\n    },\n    edit(){\n      //如果是允许编辑，即是点击放弃修改\n      if(this.allow_edit){\n        this.allow_edit=false;\n        this.jsondata2form(this.origin_form_data);\n        this.edit_label='编辑';\n        console.log(this.edit_label)\n      }\n      else{\n        this.allow_edit=true;\n        this.edit_label='放弃修改';\n      }\n    },\n    submit(){\n      var _this = this;\n      let informList = []\n      for(let j=0;j<this.form1.inform.length;j++){\n        informList.push({assetPackageId:this.form1.assetPackageId,urgingType:this.form1.inform[j].method,\n          urgingNoticeDate:this.form1.inform[j].date,deleteFlag:0});\n      }\n      api({\n        url: \"assetPackage/updateAssetPackage\",\n        method: \"post\",\n        data:{\n          id:_this.form1.assetPackageId,\n          creditor: _this.form1.creditor,\n          originalCreditor:_this.form1.originalCreditor,\n          costDebtTotal:_this.form1.costDebtTotal,\n          recycleTotal:_this.form1.recycleTotal,\n          remarks: _this.form1.remarks,\n          urgingNoticeDaoList: informList\n        }\n      }).then(data => {\n        console.log(data);\n        // location.reload();\n      }).catch(err => {\n        console.log(err);\n      })\n    },\n    //催收公告\n    addInform(){\n      this.form1.inform.push({key:this.getInformID,method:'',date:''});\n      console.log(this.form1.temp_informID)\n    },\n    removeInform(inform){\n      var index = this.form1.inform.indexOf(inform);\n      if (index !== -1) {\n        this.form1.inform.splice(index, 1);\n      }\n    },\n    resetInform(){\n      this.form1.inform=[{key:this.getInformID,method:'',date:''}];\n    }\n  },\n  computed:{\n    getInformID(){\n      this.temp_informID++;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.el-icon-s-home{\n  font-size: 200%;\n}\n.el-breadcrumb1{\n  font-size: 15px;\n  margin-top: 10px;\n}\n.el-row1{\n  margin-top: 30px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04);\n  border-radius: 4px;\n  text-align: end;\n  height: 50px;\n  line-height: 50px;\n  padding-right: 20px;\n}\n.el-row2 {\n  margin-top: 30px;\n  text-align: end;\n  height: 40px;\n  line-height: 40px;\n}\n.el-row3, .el-row4, .el-row5{\n  text-align: end;\n  height: 40px;\n  line-height: 40px;\n}\n.grid-content1{\n  background-color: #DCDFE6;\n}\n.el-table{\n  margin-top: 20px;\n}\n</style>\n"]}]}