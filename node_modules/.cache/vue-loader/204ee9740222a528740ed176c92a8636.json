{"remainingRequest":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\src\\views\\common\\myfilter.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\src\\views\\common\\myfilter.vue","mtime":1613987762742},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614934889000},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\babel-loader\\lib\\index.js","mtime":1614934889000},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1614934889000},{"path":"F:\\文档\\丹阳不良债权项目\\丹阳债权清收系统\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2RlZmF1bHQgYXMgYXBpfSBmcm9tICcuLi8uLi91dGlscy9hcGknDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJteWZpbHRlciIsDQogIGRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICBjaGVja0xpc3Q6W10sDQogICAgICBzZWFyY2hfcmVzdWx0czpbXSwNCiAgICAgIHNlYXJjaF9pbnB1dDonJywNCiAgICAgIHRhYmxlRGF0YTpbe31dLCAgLy/lm57kvKDnu5nniLbnu4Tku7bvvIhjcmVkaXRNZW5177yJ55qE5Li76KGo5pWw5o2udGFibGVEYXRhDQogICAgICBpc0FibGVkOnRydWUNCiAgICB9DQogIH0sDQogIHByb3BzOlsnbGFiZWwnLCdwcm9wZXJ0eSddLA0KICBtZXRob2RzOnsNCiAgICBmaWx0ZXJTZWFyY2goKXsNCiAgICAgIGxldCBfdGhpcyA9IHRoaXM7DQogICAgICBhcGkoew0KICAgICAgICB1cmw6ICIvZmlsdGVyU2VhcmNoIiwNCiAgICAgICAgbWV0aG9kOiAicG9zdCIsDQogICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAibmFtZSI6X3RoaXMucHJvcGVydHksDQogICAgICAgICAgInZhbHVlIjpfdGhpcy4kcmVmcy5pbnB1dC52YWx1ZQ0KICAgICAgICB9DQogICAgICB9KS50aGVuKGRhdGEgPT4gew0KICAgICAgICAvL+i/lOWbnueahOaVsOaNruaYr+WIl+ihqOW9ouW8j+eahOWAuuadg+S/oeaBrw0KICAgICAgICBsZXQgX3RoaXMgPSB0aGlzOw0KICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsNCiAgICAgICAgX3RoaXMudGFibGVEYXRhID0gZGF0YS5kYXRhOw0KICAgICAgICAvL+WFiOa4heepuuetm+mAieahhuS4reeahOaQnOe0oue7k+aenO+8jOWwhuS7jui/lOWbnueahOaVsOaNruS4reiOt+WPluebuOW6lOihqOWktO+8iHRoaXMucHJvcGVydHnvvInnmoTlr7nlupTlgLzvvIzmr5TlpoLojrflj5booajlpLTkuLonenFyJ+eahOWAvO+8jOWwhuWFtui1i+WAvOe7mXNlYXJjaF9yZXN1bHRzDQogICAgICAgIC8v5pi+56S65Yiw562b6YCJ5qGG5LitDQogICAgICAgIF90aGlzLnNlYXJjaF9yZXN1bHRzPVtdOw0KICAgICAgICBsZXQgaTsNCiAgICAgICAgbGV0IGxpc3QgPSBkYXRhLmRhdGE7DQogICAgICAgIGZvcihpPTA7aTxsaXN0Lmxlbmd0aDtpKyspew0KICAgICAgICAgIF90aGlzLnNlYXJjaF9yZXN1bHRzLnB1c2gobGlzdFtpXVtfdGhpcy5wcm9wZXJ0eV0pOw0KICAgICAgICB9DQogICAgICAgIF90aGlzLmNoZWNrTGlzdD1bXTsNCiAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICB9KQ0KICAgIH0sDQogICAgLy/nrZvpgInmjInpkq7nmoTngrnlh7vkuovku7bvvIzlsIbooqvpgInkuK3nmoTlpI3pgInmoYblr7nlupTnmoTlgLrmnYPkv6Hmga/lm57kvKDnu5nniLbnu4Tku7YNCiAgICBoYW5kbGVGaWx0ZXIoKXsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hlY2tMaXN0KTsNCiAgICAgIC8v6I635Y+W6YCJ5LitY2hlY2tsaXN05a+55bqU55qE5YC65p2D5L+h5oGvDQogICAgICBsZXQgaTsNCiAgICAgIGxldCBmaWx0ZXJJdGVtPXtwcm9wZXJ0eTp0aGlzLnByb3BlcnR5LGl0ZW06dGhpcy5jaGVja0xpc3R9Ow0KICAgICAgLy8gZm9yKGk9MDtpPHRoaXMudGFibGVEYXRhLmxlbmd0aDtpKyspDQogICAgICAvLyB7DQogICAgICAvLyAgIGlmKHRoaXMuY2hlY2tMaXN0LmluZGV4T2YodGhpcy50YWJsZURhdGFbaV1bdGhpcy5wcm9wZXJ0eV0pPj0wKXsNCiAgICAgIC8vICAgICBjaGVja190YWJsZURhdGEucHVzaCh0aGlzLnRhYmxlRGF0YVtpXSk7DQogICAgICAvLyAgIH0NCiAgICAgIC8vIH0NCiAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrX2ZpbHRlcicsZmlsdGVySXRlbSk7DQogICAgfSwNCiAgICAvL+mHjee9rg0KICAgIGhhbmRsZVJlc2V0KCl7DQogICAgICB0aGlzLmNoZWNrTGlzdD1bXTsNCiAgICAgIHRoaXMuaXNBYmxlZD10cnVlOw0KICAgICAgbGV0IGZpbHRlckl0ZW09e3Byb3BlcnR5OnRoaXMucHJvcGVydHksaXRlbTp0aGlzLmNoZWNrTGlzdH07DQogICAgICB0aGlzLiRlbWl0KCdjbGlja19maWx0ZXInLGZpbHRlckl0ZW0pOw0KICAgIH0sDQogICAgLy/lhajpgInvvIzlhajkuI3pgIkNCiAgICBzZWxlY3RBbGwoKXsNCiAgICAgIGlmKHRoaXMuY2hlY2tMaXN0Lmxlbmd0aD09PXRoaXMuc2VhcmNoX3Jlc3VsdHMubGVuZ3RoKXsNCiAgICAgICAgdGhpcy5jaGVja0xpc3Q9W107DQogICAgICAgIHRoaXMuaXNBYmxlZD10cnVlOw0KICAgICAgfQ0KICAgICAgZWxzZXsNCiAgICAgICAgdGhpcy5jaGVja0xpc3Q9dGhpcy5zZWFyY2hfcmVzdWx0czsNCiAgICAgICAgdGhpcy5pc0FibGVkPWZhbHNlOw0KICAgICAgfQ0KDQogICAgfQ0KICB9LA0KICB3YXRjaDp7DQogICAgY2hlY2tMaXN0OmZ1bmN0aW9uICgpew0KICAgICAgaWYodGhpcy5jaGVja0xpc3QubGVuZ3RoPT09MCl7DQogICAgICAgIHRoaXMuaXNBYmxlZD10cnVlOw0KICAgICAgfQ0KICAgICAgZWxzZXsNCiAgICAgICAgdGhpcy5pc0FibGVkPWZhbHNlOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["myfilter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"myfilter.vue","sourceRoot":"src/views/common","sourcesContent":["<template>\r\n  <div class=\"myfilter-container\">\r\n    <div style=\"width:200px\">\r\n      <el-input placeholder=\"支持条件模糊搜索\" v-model=\"search_input\" @keyup.native.enter=\"filterSearch\" ref=\"input\">\r\n        <el-button slot=\"append\" icon=\"el-icon-search\" @click.native=\"filterSearch\"></el-button>\r\n      </el-input>\r\n    </div>\r\n    <div>\r\n      <div>\r\n        <el-checkbox-group v-model=\"checkList\">\r\n          <div v-for=\"result in search_results\">\r\n            <el-checkbox :label=\"result\" :key=\"result\">{{result}}</el-checkbox>\r\n          </div>\r\n        </el-checkbox-group>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <el-button type=\"text\" @click.native=\"handleFilter\" :disabled=\"isAbled\">筛选</el-button>\r\n      <el-button type=\"text\" @click.native=\"selectAll\">全选</el-button>\r\n      <el-button type=\"text\" @click.native=\"handleReset\">重置</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {default as api} from '../../utils/api'\r\nexport default {\r\n  name: \"myfilter\",\r\n  data(){\r\n    return{\r\n      checkList:[],\r\n      search_results:[],\r\n      search_input:'',\r\n      tableData:[{}],  //回传给父组件（creditMenu）的主表数据tableData\r\n      isAbled:true\r\n    }\r\n  },\r\n  props:['label','property'],\r\n  methods:{\r\n    filterSearch(){\r\n      let _this = this;\r\n      api({\r\n        url: \"/filterSearch\",\r\n        method: \"post\",\r\n        data: {\r\n          \"name\":_this.property,\r\n          \"value\":_this.$refs.input.value\r\n        }\r\n      }).then(data => {\r\n        //返回的数据是列表形式的债权信息\r\n        let _this = this;\r\n        console.log(data);\r\n        _this.tableData = data.data;\r\n        //先清空筛选框中的搜索结果，将从返回的数据中获取相应表头（this.property）的对应值，比如获取表头为'zqr'的值，将其赋值给search_results\r\n        //显示到筛选框中\r\n        _this.search_results=[];\r\n        let i;\r\n        let list = data.data;\r\n        for(i=0;i<list.length;i++){\r\n          _this.search_results.push(list[i][_this.property]);\r\n        }\r\n        _this.checkList=[];\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n    },\r\n    //筛选按钮的点击事件，将被选中的复选框对应的债权信息回传给父组件\r\n    handleFilter(){\r\n      console.log(this.checkList);\r\n      //获取选中checklist对应的债权信息\r\n      let i;\r\n      let filterItem={property:this.property,item:this.checkList};\r\n      // for(i=0;i<this.tableData.length;i++)\r\n      // {\r\n      //   if(this.checkList.indexOf(this.tableData[i][this.property])>=0){\r\n      //     check_tableData.push(this.tableData[i]);\r\n      //   }\r\n      // }\r\n      this.$emit('click_filter',filterItem);\r\n    },\r\n    //重置\r\n    handleReset(){\r\n      this.checkList=[];\r\n      this.isAbled=true;\r\n      let filterItem={property:this.property,item:this.checkList};\r\n      this.$emit('click_filter',filterItem);\r\n    },\r\n    //全选，全不选\r\n    selectAll(){\r\n      if(this.checkList.length===this.search_results.length){\r\n        this.checkList=[];\r\n        this.isAbled=true;\r\n      }\r\n      else{\r\n        this.checkList=this.search_results;\r\n        this.isAbled=false;\r\n      }\r\n\r\n    }\r\n  },\r\n  watch:{\r\n    checkList:function (){\r\n      if(this.checkList.length===0){\r\n        this.isAbled=true;\r\n      }\r\n      else{\r\n        this.isAbled=false;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.myfilter-container{\r\n  width: 200px;\r\n  /*height: 200px;*/\r\n  /*background-color: black;*/\r\n}\r\n</style>"]}]}